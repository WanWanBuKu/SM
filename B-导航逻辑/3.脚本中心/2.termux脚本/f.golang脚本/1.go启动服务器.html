<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Go HTTP æœåŠ¡å™¨å¯åŠ¨è„šæœ¬</title>
    
       <!-- prism.js è¯­æ³•é«˜äº®   -->
      <script src="/A2_å…¨å±€ä¸­å¿ƒ/B_æ’ä»¶ç¼“å­˜-CDN/1.prismä»£ç é«˜äº®/1.prism-css-ç™½è‰²ä¸»é¢˜.js"></script>
     <script src="/A2_å…¨å±€ä¸­å¿ƒ/B_æ’ä»¶ç¼“å­˜-CDN/1.prismä»£ç é«˜äº®/prism-core.min.js"></script>    <!-- æ ¸å¿ƒæ–‡ä»¶ -->
     <script src="/A2_å…¨å±€ä¸­å¿ƒ/B_æ’ä»¶ç¼“å­˜-CDN/1.prismä»£ç é«˜äº®/prism-clike.min.js"></script>  <!-- ç±»Cè¯­è¨€åŸºç¡€ -->
     <script src="/A2_å…¨å±€ä¸­å¿ƒ/B_æ’ä»¶ç¼“å­˜-CDN/1.prismä»£ç é«˜äº®/prism-go.min.js"></script>    <!-- Goè¯­è¨€æ”¯æŒ -->
     <script src="/A2_å…¨å±€ä¸­å¿ƒ/B_æ’ä»¶ç¼“å­˜-CDN/1.prismä»£ç é«˜äº®/prism-bash.min.js"></script>   <!-- Bashè¯­è¨€æ”¯æŒ -->


    <style>
        /* 1. å…¨å±€é‡ç½®å’ŒåŸºç¡€æ ·å¼ */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        /* 2. ä¸»ä½“èƒŒæ™¯ - ç°ä»£ç®€çº¦æ¸å˜ */
        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 70%; /* è°ƒæ•´å­—ä½“å¤§å°ä¸º70% */
            background: linear-gradient(135deg, #1a2942 0%, #2d4262 100%);
            min-height: 100vh;
            padding: 10px;
            position: relative;
            overflow-x: hidden;
        }
        
        /* 3. å¾®å¦™çš„èƒŒæ™¯çº¹ç† */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(255,255,255,0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255,255,255,0.03) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255,255,255,0.04) 0%, transparent 50%),
                radial-gradient(circle at 90% 90%, rgba(255,255,255,0.02) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }
        
        /* 4. å®¹å™¨æ ·å¼ */
        .container {
            max-width: 100%;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        /* 5. æ­¥éª¤æŒ‡ç¤ºå™¨ */
        .steps-indicator {
            display: flex;
            justify-content: space-between;
            margin: 0 10px 15px 10px;
            position: relative;
            z-index: 2;
        }
        
        .step {
            flex: 1;
            text-align: center;
            position: relative;
            padding: 8px 5px;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .step::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 10%;
            right: 10%;
            height: 3px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            transition: all 0.3s ease;
        }
        
        .step.active::before {
            background: linear-gradient(90deg, #00BCD4, #03A9F4);
            height: 4px;
        }
        
        .step.completed {
            color: rgba(255, 255, 255, 0.9);
        }
        
        .step.completed::before {
            background: linear-gradient(90deg, #9E9E9E, #757575); /* ç°è‰² */
            height: 4px;
        }
        
        /* 6. å¤´éƒ¨æ ·å¼ */
        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 0 10px 15px 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* 7. æ ‡é¢˜æ ·å¼ */
        h1 {
            font-size: 18px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* 8. å¤åˆ¶å…¨éƒ¨æŒ‰é’® */
        .copy-all-btn {
            background: linear-gradient(135deg, #00BCD4 0%, #03A9F4 100%);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .copy-all-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(0, 188, 212, 0.3);
        }
        
        /* 9. ä»£ç å—å®¹å™¨ */
        .code-block {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 10px;
            margin: 0 10px 15px 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .code-block:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        /* 10. å·²å®ŒæˆçŠ¶æ€é®ç½©å’ŒèƒŒæ™¯è‰² */
        .code-block.completed {
            background: rgba(189, 189, 189, 0.95); /* ç°è‰²èƒŒæ™¯ */
        }
        
        .code-block.completed::after {
            content: '';
            position: absolute;
            top: 50px; /* ä»æ ‡é¢˜æ ä¸‹æ–¹å¼€å§‹é®ç½© */
            left: 0;
            width: 100%;
            height: calc(100% - 50px); /* é®ç½©é«˜åº¦å‡å»æ ‡é¢˜æ é«˜åº¦ */
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
            pointer-events: none;
        }
        
        .code-block.completed .module-title {
            background: linear-gradient(135deg, #9E9E9E 0%, #757575 100%); /* ç°è‰²æ ‡é¢˜æ  */
        }
        
        .code-block.completed .module-title::after {
            content: 'âœ“ å·²å®Œæˆ';
            position: absolute;
            right: 80px; /* ç»™å¤åˆ¶æŒ‰é’®ç•™å‡ºç©ºé—´ */
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-weight: bold;
            font-size: 14px;
            z-index: 3;
        }
        
        /* 11. æ¨¡å—æ ‡é¢˜æ  */
        .module-title {
            background: linear-gradient(135deg, #00BCD4 0%, #03A9F4 100%);
            color: white;
            padding: 10px 15px;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 3; /* ç¡®ä¿æ ‡é¢˜æ åœ¨é®ç½©å±‚ä¹‹ä¸Š */
        }
        
        /* 12. æ¨¡å—å¤åˆ¶æŒ‰é’® */
        .module-copy-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.2s;
            position: relative;
            z-index: 4; /* ç¡®ä¿å¤åˆ¶æŒ‰é’®åœ¨æœ€ä¸Šå±‚ */
        }
        
        .module-copy-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        /* 13. ä»£ç åŒºåŸŸ */
        .module-code {
            padding: 0;
            position: relative;
            z-index: 2;
        }
        
        /* 14. ä»£ç é¢„æ ¼å¼åŒ– */
        pre {
            margin: 0;
            padding: 15px;
            overflow-x: auto;
            background: #2d2d2d;
        }
        
        /* 15. ä»£ç å­—ä½“æ ·å¼ */
        code {
            font-family: 'SF Mono', 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
        }
        
        /* 16. æç¤ºæ¡†æ ·å¼ */
        .toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 1000;
        }
        
        .toast.show {
            opacity: 1;
        }
        
        /* 17. ä¿¡æ¯åŒºåŸŸ */
        .info {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 0 10px 15px 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* 18. ä¿¡æ¯æ ‡é¢˜ */
        .info h2 {
            color: #333;
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        /* 19. ä¿¡æ¯æ®µè½ */
        .info p {
            color: #666;
            font-size: 13px;
            line-height: 1.6;
            margin-bottom: 8px;
        }
        
        /* 20. å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            body { padding: 5px; }
            h1 { font-size: 16px; }
            .copy-all-btn { padding: 6px 12px; font-size: 12px; }
            code { font-size: 12px; }
            .header, .code-block, .info {
                margin-left: 5px;
                margin-right: 5px;
            }
            .step {
                font-size: 10px;
                padding: 6px 3px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="steps-indicator">
            <div class="step active" data-step="0">åˆ‡æ¢ç›®å½•</div>
            <div class="step" data-step="1">åˆ›å»ºæ–‡ä»¶</div>
            <div class="step" data-step="2">å¯åŠ¨æœåŠ¡</div>
            <div class="step" data-step="3">æœ‰æ—¥å¿—ç‰ˆæœ¬</div>
        </div>
        
        <div class="header">
            <h1>ğŸŒ Go HTTP æœåŠ¡å™¨å¯åŠ¨è„šæœ¬</h1>
            <button class="copy-all-btn" onclick="copyAll()">ğŸ“‹ å¤åˆ¶å…¨éƒ¨</button>
        </div>
        
        <div class="code-block" data-step="0" onclick="markCompleted(this)">
            <div class="module-title">
                <span>ğŸ“ åˆ‡æ¢åˆ°ç›®æ ‡ç›®å½•</span>
                <button class="module-copy-btn" onclick="copyModule(event, 0)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-bash">cd /storage/emulated/0/Android/LLS_2025/Xmind/æµ‹è¯•/é›ªäºº</code></pre>
            </div>
        </div>
        
        <div class="code-block" data-step="1" onclick="markCompleted(this)">
            <div class="module-title">
                <span>ğŸ“ åˆ›å»º main.go æ–‡ä»¶</span>
                <button class="module-copy-btn" onclick="copyModule(event, 1)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-bash">cat > main.go <<'EOF'
package main
import "net/http"
func main() {
    http.Handle("/", http.FileServer(http.Dir(".")))
    http.ListenAndServe(":8080", nil)
}
EOF</code></pre>
            </div>
        </div>
        
        <div class="code-block" data-step="2" onclick="markCompleted(this)">
            <div class="module-title">
                <span>ğŸš€ å¯åŠ¨ HTTP æœåŠ¡å™¨</span>
                <button class="module-copy-btn" onclick="copyModule(event, 2)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-bash">CGO_ENABLED=0 go run -tags netgo main.go</code></pre>
            </div>
        </div>
        
        <div class="code-block" data-step="3" onclick="markCompleted(this)">
            <div class="module-title">
                <span>ğŸ“Š æœ‰æ—¥å¿—ç‰ˆæœ¬</span>
                <button class="module-copy-btn" onclick="copyModule(event, 3)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-go">package main

import (
	"log"      // 1. å¯¼å…¥æ—¥å¿—åŒ…
	"net/http" // 2. å¯¼å…¥HTTPæœåŠ¡åŒ…
)

// 3. ä¸»å‡½æ•° - ç¨‹åºå…¥å£ç‚¹
func main() {
	// 4. åˆ›å»ºæ–‡ä»¶æœåŠ¡å™¨ï¼ŒæœåŠ¡å½“å‰ç›®å½•
	fs := http.FileServer(http.Dir("."))
	
	// 5. æ³¨å†Œè·¯ç”±å¤„ç†å™¨ï¼Œä½¿ç”¨logRequestä¸­é—´ä»¶åŒ…è£…
	http.Handle("/", logRequest(fs))

	// 6. æ‰“å°æœåŠ¡å¯åŠ¨ä¿¡æ¯
	log.Println("Listening on :8080 ...")
	
	// 7. å¯åŠ¨HTTPæœåŠ¡å™¨ï¼Œç›‘å¬8080ç«¯å£
	log.Fatal(http.ListenAndServe(":8080", nil))
}

// 8. logRequest ä¸­é—´ä»¶å‡½æ•° - è®°å½•æ¯ä¸ªHTTPè¯·æ±‚
// åŒ…è£…ä¸‹ä¸€ä¸ªå¤„ç†å™¨ï¼Œåœ¨è¯·æ±‚å®Œæˆåè®°å½•è¯·æ±‚æ–¹æ³•å’Œè·¯å¾„
func logRequest(next http.Handler) http.Handler {
	return http.HandlerFunc(func(w http.ResponseWriter, r *http.Request) {
		// 9. åˆ›å»ºè‡ªå®šä¹‰çš„ResponseWriteræ¥æ•è·çŠ¶æ€ç 
		lrw := &loggingResponseWriter{ResponseWriter: w, statusCode: 200}
		
		// 10. è°ƒç”¨ä¸‹ä¸€ä¸ªå¤„ç†å™¨
		next.ServeHTTP(lrw, r)
		
		// 11. è®°å½•è¯·æ±‚ä¿¡æ¯ï¼šæ–¹æ³•ã€è·¯å¾„ã€çŠ¶æ€ç 
		log.Printf("%s %s %d", r.Method, r.URL.Path, lrw.statusCode)
	})
}

// 12. loggingResponseWriter ç»“æ„ä½“ - è‡ªå®šä¹‰å“åº”å†™å…¥å™¨
// ç”¨äºæ•è·HTTPå“åº”çš„çŠ¶æ€ç 
type loggingResponseWriter struct {
	http.ResponseWriter // 13. åµŒå…¥æ ‡å‡†ResponseWriter
	statusCode int       // 14. å­˜å‚¨å“åº”çŠ¶æ€ç 
}

// 15. WriteHeader æ–¹æ³• - é‡å†™å†™å…¥å“åº”å¤´çš„æ–¹æ³•
// åœ¨å†™å…¥çŠ¶æ€ç æ—¶åŒæ—¶è®°å½•åˆ°ç»“æ„ä½“ä¸­
func (lrw *loggingResponseWriter) WriteHeader(code int) {
	lrw.statusCode = code // 16. ä¿å­˜çŠ¶æ€ç 
	lrw.ResponseWriter.WriteHeader(code) // 17. è°ƒç”¨åŸå§‹æ–¹æ³•
}</code></pre>
            </div>
        </div>
        
        <div class="info">
            <h2>ğŸ“‹ è¯´æ˜</h2>
            <p>æ­¤è„šæœ¬ç”¨äºå¿«é€Ÿå¯åŠ¨ä¸€ä¸ª Go HTTP æ–‡ä»¶æœåŠ¡å™¨ï¼ŒåŒ…å«åŸºç¡€ç‰ˆæœ¬å’Œå¸¦æ—¥å¿—è®°å½•çš„å¢å¼ºç‰ˆæœ¬ã€‚</p>
            <p>æ‰§è¡Œæµç¨‹ï¼šåˆ‡æ¢åˆ°ç›®æ ‡ç›®å½• â†’ åˆ›å»ºåŸºç¡€ç‰ˆæœ¬æ–‡ä»¶ â†’ å¯åŠ¨æœåŠ¡å™¨ â†’ ä½¿ç”¨å¸¦æ—¥å¿—ç‰ˆæœ¬ï¼ˆå¯é€‰ï¼‰</p>
            <p>æœåŠ¡å™¨å¯åŠ¨åï¼Œé€šè¿‡æµè§ˆå™¨è®¿é—® <code>http://localhost:8080</code> å³å¯æŸ¥çœ‹æ–‡ä»¶ã€‚</p>
            <p>å¸¦æ—¥å¿—ç‰ˆæœ¬ä¼šè®°å½•æ¯ä¸ªè¯·æ±‚çš„æ–¹æ³•ã€è·¯å¾„å’ŒçŠ¶æ€ç ï¼Œä¾¿äºè°ƒè¯•å’Œç›‘æ§ã€‚</p>
            <p>ä½¿ç”¨ CGO_ENABLED=0 ç¡®ä¿ç¼–è¯‘ä¸ºé™æ€å¯æ‰§è¡Œæ–‡ä»¶ï¼Œæé«˜å…¼å®¹æ€§ã€‚</p>
            <p>ç‚¹å‡»ä»£ç å—å¯æ ‡è®°ä¸ºå·²å®Œæˆï¼Œæ­¥éª¤æŒ‡ç¤ºå™¨ä¼šç›¸åº”æ›´æ–°ã€‚</p>
        </div>
    </div>
    
    <div class="toast" id="toast">âœ… å·²å¤åˆ¶</div>
    
    <script>
        // 1. DOMå†…å®¹åŠ è½½å®Œæˆäº‹ä»¶
        document.addEventListener('DOMContentLoaded', function() {
            Prism.highlightAll();
        });
        
        // 2. å¤åˆ¶å•ä¸ªæ¨¡å—ä»£ç 
        function copyModule(event, index) {
            event.stopPropagation();
            const modules = document.querySelectorAll('.module-code code');
            const moduleCode = modules[index].textContent;
            
            navigator.clipboard.writeText(moduleCode).then(() => {
                showToast();
            });
        }
        
        // 3. å¤åˆ¶å…¨éƒ¨ä»£ç 
        function copyAll() {
            const allCode = Array.from(document.querySelectorAll('.module-code code'))
                .map(code => code.textContent)
                .join('\n');
            navigator.clipboard.writeText(allCode).then(() => {
                showToast();
            });
        }
        
        // 4. æ˜¾ç¤ºæç¤ºæ¡†
        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 1500);
        }
        
        // 5. æ ‡è®°ä»£ç å—ä¸ºå·²å®Œæˆ
        function markCompleted(element) {
            const step = element.getAttribute('data-step');
            const stepIndicator = document.querySelector(`.steps-indicator .step[data-step="${step}"]`);
            
            if (element.classList.contains('completed')) {
                element.classList.remove('completed');
                stepIndicator.classList.remove('completed');
            } else {
                element.classList.add('completed');
                stepIndicator.classList.add('completed');
            }
            
            updateActiveStep();
        }
        
        // 6. æ›´æ–°æ´»åŠ¨æ­¥éª¤æŒ‡ç¤ºå™¨
        function updateActiveStep() {
            const steps = document.querySelectorAll('.step');
            const codeBlocks = document.querySelectorAll('.code-block');
            
            let foundActive = false;
            for (let i = 0; i < steps.length; i++) {
                if (!codeBlocks[i].classList.contains('completed')) {
                    steps[i].classList.add('active');
                    foundActive = true;
                } else {
                    steps[i].classList.remove('active');
                }
            }
            
            if (!foundActive) {
                steps[steps.length - 1].classList.add('active');
            }
        }
        
        // 7. æ­¥éª¤æŒ‡ç¤ºå™¨ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.step').forEach(step => {
            step.addEventListener('click', function() {
                const stepIndex = this.getAttribute('data-step');
                const codeBlock = document.querySelector(`.code-block[data-step="${stepIndex}"]`);
                if (codeBlock) {
                    markCompleted(codeBlock);
                }
            });
        });
    </script>
</body>
</html>
