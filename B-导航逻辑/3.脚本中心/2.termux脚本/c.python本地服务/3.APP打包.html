<!DOCTYPE html> 
<html lang="zh-CN"> 
<head> 
    <meta charset="utf-8"> 
    <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
    <title>å‡‰å®‰V Cordovaæ„å»ºå·¥å…·ã€Œ2025ç‰ˆã€</title>
    
    <!-- prism.js è¯­æ³•é«˜äº®-->
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/themes/prism-tomorrow.min.css" rel="stylesheet"> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-core.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/plugins/autoloader/prism-autoloader.min.js"></script> 
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.29.0/components/prism-python.min.js"></script>
    
    <style>
        /* 1. åŸºç¡€æ ·å¼é‡ç½®*/
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        /* 2. é¡µé¢ä¸»ä½“æ ·å¼*/
        body { 
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace;
            background: #1e1e1e;
            height: 100vh;
            overflow: hidden;
            color: #d4d4d4;
        }
        
        /* 3. ä¸»å®¹å™¨æ ·å¼*/
        .container { 
            width: 100vw;
            max-width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: #1e1e1e;
            overflow: hidden;
        }
        
        /* 4. é¡µé¢å¤´éƒ¨æ ·å¼*/
        .header { 
            background: #252526;
            padding: 8px 15px;
            border-bottom: 1px solid #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-shrink: 0;
        }
        
        /* 5. é¡µé¢æ ‡é¢˜æ ·å¼*/
        .header h1 { 
            font-size: 14px;
            font-weight: 400;
            color: #cccccc;
        }
        
        /* 6. å†…å®¹åŒºåŸŸæ ·å¼*/
        .content { 
            flex: 1;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            overflow-y: auto;
        }
        
        /* 7. ä»£ç å—å®¹å™¨æ ·å¼*/
        .code-block { 
            background: #1e1e1e;
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            margin: 0;
        }
        
        /* 8. ä»£ç å¤´éƒ¨æ ·å¼*/
        .code-header { 
            background: #2d2d30;
            padding: 5px 15px;
            display: flex; 
            justify-content: space-between; 
            align-items: center; 
            border-bottom: 1px solid #3e3e42;
            flex-shrink: 0;
        }
        
        /* 9. ä»£ç æ ‡é¢˜æ ·å¼*/
        .code-title { 
            color: #cccccc;
            font-size: 12px;
        }
        
        /* 10. å¤åˆ¶æŒ‰é’®æ ·å¼*/
        .copy-btn { 
            background: #0e639c;
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 3px;
            cursor: pointer;
            font-size: 11px;
            transition: all 0.2s ease;
        }
        
        /* 11. å¤åˆ¶æŒ‰é’®æ‚¬åœæ•ˆæœ*/
        .copy-btn:hover { 
            background: #1177bb;
        }
        
        /* 12. ä»£ç å†…å®¹åŒºåŸŸæ ·å¼*/
        pre { 
            margin: 0 !important; 
            padding: 15px !important; 
            background: transparent !important; 
            overflow: auto;
            flex: 1;
            font-size: 13px !important;
            line-height: 1.5 !important;
        }
        
        /* 13. ä»£ç æ ‡ç­¾æ ·å¼*/
        code { 
            font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
        }
        
        /* 14. Toasté€šçŸ¥æ ·å¼*/
        .toast { 
            position: fixed; 
            top: 50px; 
            right: 20px; 
            background: #0e639c;
            color: white; 
            padding: 8px 12px; 
            border-radius: 4px; 
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3); 
            opacity: 0; 
            transform: translateX(100%); 
            transition: all 0.3s ease; 
            z-index: 1000; 
            font-size: 12px;
        }
        
        /* 15. Toastæ˜¾ç¤ºçŠ¶æ€æ ·å¼*/
        .toast.show { 
            opacity: 1; 
            transform: translateX(0); 
        }
        
        /* 16. è„šæœ¬è¯´æ˜å¡ç‰‡æ ·å¼*/
        .script-info {
            background: #2a2a2a;
            margin: 10px;
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid #0e639c;
            flex-shrink: 0;
        }
        
        /* 17. è„šæœ¬è¯´æ˜æ ‡é¢˜æ ·å¼*/
        .script-info h3 {
            color: #0e639c;
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        /* 18. è„šæœ¬è¯´æ˜æ®µè½æ ·å¼*/
        .script-info p {
            color: #cccccc;
            font-size: 12px;
            line-height: 1.4;
            margin-bottom: 8px;
        }
        
        /* 19. è„šæœ¬è¯´æ˜åˆ—è¡¨æ ·å¼*/
        .script-info ul {
            color: #cccccc;
            font-size: 12px;
            margin-left: 20px;
        }
        
        /* 20. è„šæœ¬è¯´æ˜åˆ—è¡¨é¡¹æ ·å¼*/
        .script-info li {
            margin-bottom:5px;
        }
        
        /* 21. ç§»åŠ¨ç«¯å“åº”å¼æ ·å¼*/
        @media (max-width: 768px) {
            .header h1 { 
                font-size: 12px; 
            }
            
            .code-header {
                padding: 4px 10px;
            }
            
            .copy-btn { 
                padding: 3px 6px; 
                font-size: 10px; 
            }
            
            pre {
                padding: 10px !important;
                font-size: 11px !important;
            }
            
            .script-info {
                margin: 5px;
                padding: 10px;
            }
        }
    </style>
</head> 
<body> 
    <!-- 22. ä¸»å®¹å™¨-->
    <div class="container"> 
        <!-- 23. é¡µé¢å¤´éƒ¨-->
        <div class="header">
            <h1>ğŸ”§ å‡‰å®‰V Cordovaæ„å»ºå·¥å…·ã€Œ2025ç‰ˆã€</h1>
            <button class="copy-btn" onclick="copyCode('cordova-code')">ğŸ“‹ å¤åˆ¶</button>
        </div>
        
        <!-- 24. å†…å®¹åŒºåŸŸ-->
        <div class="content">
            <!-- 25. ä»£ç å—å®¹å™¨-->
            <div class="code-block"> 
                <pre><code id="cordova-code" class="language-python">#!/usr/bin/env python3
# -*- coding: utf-8 -*-
# 1. ä¸€ä½“åŒ–Cordovaæ„å»ºå·¥å…·ï¼ˆå‡‰å®‰Vå®šåˆ¶ç‰ˆï¼‰- æ¸©å’Œé…ç½®ç‰ˆ

# 2. å¯¼å…¥æ“ä½œç³»ç»Ÿç›¸å…³æ¨¡å—ï¼Œç”¨äºæ–‡ä»¶å’Œç›®å½•æ“ä½œ
import os
# 3. å¯¼å…¥ç³»ç»Ÿç›¸å…³æ¨¡å—ï¼Œç”¨äºç³»ç»Ÿå‚æ•°å’Œå‡½æ•°
import sys
# 4. å¯¼å…¥æ–‡ä»¶æ“ä½œæ¨¡å—ï¼Œç”¨äºæ–‡ä»¶å¤åˆ¶å’Œåˆ é™¤ç­‰é«˜çº§æ–‡ä»¶æ“ä½œ
import shutil
# 5. å¯¼å…¥éšæœºæ•°æ¨¡å—ï¼Œç”¨äºç”Ÿæˆéšæœºæ•°
import random
# 6. å¯¼å…¥å­è¿›ç¨‹æ¨¡å—ï¼Œç”¨äºæ‰§è¡Œå¤–éƒ¨å‘½ä»¤
import subprocess
# 7. å¯¼å…¥æ–‡ä»¶è·¯å¾„åŒ¹é…æ¨¡å—ï¼Œç”¨äºæŸ¥æ‰¾æ–‡ä»¶
import glob
# 8. å¯¼å…¥æ—¥æœŸæ—¶é—´æ¨¡å—ï¼Œç”¨äºè·å–å½“å‰æ—¶é—´
from datetime import datetime

# 9. --- å…¨å±€é…ç½®---
# 10. å®šä¹‰è¾“å‡ºç›®å½•ä¸ºä¸‹è½½ç›®å½•
OUT_DIR = "/storage/emulated/0/Download"
# 11. å®šä¹‰é¡¹ç›®ç›®å½•ä¸ºç”¨æˆ·ä¸»ç›®å½•ä¸‹çš„2026æ–‡ä»¶å¤¹
PROJ_DIR = os.path.join(os.path.expanduser("~"), "2026")

# 12. è¿è¡Œå¤–éƒ¨å‘½ä»¤çš„è¾…åŠ©å‡½æ•°
def run_command(command, check=True, capture_output=False):
    """è¿è¡Œå¤–éƒ¨å‘½ä»¤çš„è¾…åŠ©å‡½æ•°"""
    # 13. æ‰“å°æ­£åœ¨æ‰§è¡Œçš„å‘½ä»¤ä¿¡æ¯
    print(f"ğŸ”§æ‰§è¡Œå‘½ä»¤: {command}")
    try:
        # 14. ä½¿ç”¨subprocess.runæ‰§è¡Œå‘½ä»¤ï¼Œshell=Trueå…è®¸æ‰§è¡Œshellå‘½ä»¤
        result = subprocess.run(
            command, shell=True, check=check,
            capture_output=capture_output, text=True
        )
        # 15. å¦‚æœéœ€è¦æ•è·è¾“å‡ºï¼Œè¿”å›æ ‡å‡†è¾“å‡ºçš„å†…å®¹å¹¶å»é™¤é¦–å°¾ç©ºç™½
        if capture_output:
            return result.stdout.strip()
        # 16. å¦åˆ™è¿”å›ç»“æœå¯¹è±¡
        return result
    except subprocess.CalledProcessError as e:
        # 17. æ•è·å‘½ä»¤æ‰§è¡Œå¤±è´¥å¼‚å¸¸
        print(f"âŒå‘½ä»¤æ‰§è¡Œå¤±è´¥: {command}")
        # 18. æ‰“å°é”™è¯¯ä¿¡æ¯
        print(f"é”™è¯¯ä¿¡æ¯: {e.stderr.strip() if e.stderr else 'æœªçŸ¥'}")
        # 19. é€€å‡ºç¨‹åº
        sys.exit(1)
    except FileNotFoundError:
        # 20. æ•è·å‘½ä»¤æœªæ‰¾åˆ°å¼‚å¸¸
        print(f"âŒå‘½ä»¤æœªæ‰¾åˆ°: {command.split()[0]}")
        # 21. é€€å‡ºç¨‹åº
        sys.exit(1)

# 22. æ£€æŸ¥å¹¶å®‰è£…å¿…è¦çš„ä¾èµ–
def check_deps():
    """æ£€æŸ¥å¹¶å®‰è£…å¿…è¦çš„ä¾èµ–"""
    # 23. æ‰“å°æ£€æŸ¥ä¾èµ–ä¿¡æ¯
    print("ğŸ”æ£€æŸ¥ä¾èµ–...")
    # 24. æ£€æŸ¥nodeå‘½ä»¤æ˜¯å¦å­˜åœ¨
    if not shutil.which("node"):
        # 25. å¦‚æœä¸å­˜åœ¨ï¼Œæç¤ºå®‰è£…nodejs
        print("âŒè¯·å…ˆpkg install nodejs")
        # 26. é€€å‡ºç¨‹åº
        sys.exit(1)
    try:
        # 27. å°è¯•åˆ—å‡ºå·²å®‰è£…çš„aapt2åŒ…
        run_command("pkg list-installed aapt2", capture_output=True)
    except SystemExit:
        # 28. å¦‚æœaapt2æœªå®‰è£…ï¼Œæ‰“å°å®‰è£…ä¿¡æ¯
        print("ğŸ“¦aapt2æœªå®‰è£…ï¼Œæ­£åœ¨å®‰è£…...")
        # 29. å®‰è£…aapt2åŒ…
        run_command("pkg install aapt2 -y")
    # 30. æ£€æŸ¥cordovaå‘½ä»¤æ˜¯å¦å­˜åœ¨
    if not shutil.which("cordova"):
        # 31. å¦‚æœä¸å­˜åœ¨ï¼Œæ‰“å°å…¨å±€å®‰è£…cordovaä¿¡æ¯
        print("ğŸ“¦Cordovaæœªå®‰è£…ï¼Œæ­£åœ¨å…¨å±€å®‰è£…...")
        # 32. ä½¿ç”¨npmå…¨å±€å®‰è£…cordova
        run_command("npm i -g cordova")
    # 33. æ‰“å°ä¾èµ–æ£€æŸ¥å®Œæˆä¿¡æ¯
    print("âœ…æ‰€æœ‰ä¾èµ–æ£€æŸ¥é€šè¿‡ã€‚")

# 34. è¯¢é—®ç‰ˆæœ¬å·å¹¶ç”Ÿæˆåº”ç”¨åç§°
def ask_app_name():
    """è¯¢é—®ç‰ˆæœ¬å·å¹¶ç”Ÿæˆåº”ç”¨åç§°"""
    # 35. æç¤ºç”¨æˆ·è¾“å…¥ç‰ˆæœ¬å·
    ver = input("è¯·è¾“å…¥ä»Šå¤©ç‰ˆæœ¬å·ï¼ˆå¦‚11.2aï¼‰: ")
    # 36. æ£€æŸ¥ç‰ˆæœ¬å·æ˜¯å¦ä¸ºç©º
    if not ver:
        # 37. å¦‚æœä¸ºç©ºï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯
        print("âŒç‰ˆæœ¬å·ä¸èƒ½ä¸ºç©º")
        # 38. é€€å‡ºç¨‹åº
        sys.exit(1)
    # 39. è¿”å›æ ¼å¼åŒ–çš„åº”ç”¨åç§°
    return f"å‡‰å®‰V{ver}"

# 40. ç”Ÿæˆå¸¦4ä½éšæœºæ•°çš„APKæ–‡ä»¶å
def rand_apk_name():
    """ç”Ÿæˆå¸¦4ä½éšæœºæ•°çš„APKæ–‡ä»¶å"""
    # 41. ç”Ÿæˆ0åˆ°9999ä¹‹é—´çš„éšæœºæ•°
    num = random.randint(0, 9999)
    # 42. è¿”å›æ ¼å¼åŒ–çš„APKæ–‡ä»¶åï¼Œéšæœºæ•°è¡¥é›¶åˆ°4ä½
    return f"å‡‰å®‰V{num:04d}.apk"

# 43. æ‰“åŒ…ç½‘é¡µä¸ºAPKï¼ˆæ¸©å’Œé…ç½®ç‰ˆï¼‰
def build_apk():
    """æ‰“åŒ…ç½‘é¡µä¸ºAPKï¼ˆæ¸©å’Œé…ç½®ç‰ˆï¼‰"""
    # 44. æ‰“å°æ¢è¡Œç¬¦
    print("\n=== æ‰“åŒ…æ¨¡å¼===")
    # 45. æ‰“å°æ‰“åŒ…æ¨¡å¼é€‰é¡¹1
    print("1) æ‰“åŒ…å•ä¸ªHTMLæ–‡ä»¶")
    # 46. æ‰“å°æ‰“åŒ…æ¨¡å¼é€‰é¡¹2
    print("2) æ‰“åŒ…æ•´ä¸ªç›®å½•ï¼ˆå«index.htmlï¼‰")
    # 47. è·å–ç”¨æˆ·é€‰æ‹©çš„æ‰“åŒ…æ¨¡å¼
    mode = input("è¯·é€‰æ‹©(1/2): ")
    # 48. æ£€æŸ¥é€‰æ‹©æ˜¯å¦æœ‰æ•ˆ
    if mode not in ("1", "2"):
        # 49. å¦‚æœæ— æ•ˆï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯
        print("âŒæ— æ•ˆé€‰æ‹©")
        # 50. è¿”å›ç»“æŸå‡½æ•°
        return
    # 51. è·å–ç”¨æˆ·è¾“å…¥çš„æºè·¯å¾„
    src_path = input("è¯·è¾“å…¥è·¯å¾„ï¼ˆæ–‡ä»¶æˆ–ç›®å½•ï¼‰: ").strip()
    # 52. æ£€æŸ¥è·¯å¾„æ˜¯å¦å­˜åœ¨
    if not os.path.exists(src_path):
        # 53. å¦‚æœä¸å­˜åœ¨ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯
        print("âŒè·¯å¾„ä¸å­˜åœ¨")
        # 54. è¿”å›ç»“æŸå‡½æ•°
        return
    # 55. è·å–åº”ç”¨æ ‡é¢˜
    app_title = ask_app_name()
    
    # æ­¥éª¤ä¸€ï¼šæ£€æŸ¥å¹¶å®‰è£…ä¾èµ–
    # 56. æ£€æŸ¥å¹¶å®‰è£…ä¾èµ–
    check_deps()
    
    # æ­¥éª¤äºŒï¼šåˆ›å»ºå¹¶é…ç½®Cordovaé¡¹ç›®
    # 57. æ£€æŸ¥é¡¹ç›®ç›®å½•æ˜¯å¦å­˜åœ¨
    if os.path.exists(PROJ_DIR):
        # 58. å¦‚æœå­˜åœ¨ï¼Œæ‰“å°æ¸…ç†ä¿¡æ¯
        print(f"ğŸ§¹æ¸…ç†æ—§é¡¹ç›®ç›®å½•: {PROJ_DIR}")
        # 59. åˆ é™¤æ—§é¡¹ç›®ç›®å½•åŠå…¶å†…å®¹
        shutil.rmtree(PROJ_DIR)
    # 60. ç”Ÿæˆåº”ç”¨IDï¼Œä½¿ç”¨å½“å‰æ—¶é—´æˆ³ç¡®ä¿å”¯ä¸€æ€§
    app_id = f"com.example.auto.v{int(datetime.now().timestamp())}"
    # 61. åˆ›å»ºCordovaé¡¹ç›®
    run_command(f"cordova create {PROJ_DIR} {app_id} '{app_title}'")
    # 62. ä¿å­˜å½“å‰å·¥ä½œç›®å½•
    original_cwd = os.getcwd()
    # 63. åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•
    os.chdir(PROJ_DIR)
    # 64. æ‰“å°å½“å‰å·¥ä½œç›®å½•ä¿¡æ¯
    print(f"ğŸ“åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•: {os.getcwd()}")
    
    try:
        # æ­¥éª¤ä¸‰ï¼šå¤„ç†æºæ–‡ä»¶å’Œé…ç½®
        # 65. æ‰“å°å¤åˆ¶æºæ–‡ä»¶ä¿¡æ¯
        print("ğŸ“‹å¤åˆ¶æºæ–‡ä»¶...")
        # 66. å®šä¹‰wwwç›®å½•è·¯å¾„
        www_dir = "www"
        # 67. åˆ é™¤wwwç›®å½•ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
        shutil.rmtree(www_dir, ignore_errors=True)
        # 68. åˆ›å»ºwwwç›®å½•
        os.makedirs(www_dir)
        # 69. åˆå§‹åŒ–å›¾æ ‡è·¯å¾„ä¸ºNone
        icon_path = None
        
        # 70. æ£€æŸ¥æ˜¯å¦ä¸ºå•ä¸ªæ–‡ä»¶æ¨¡å¼
        if mode == "1":
            # 71. è·å–æºæ–‡ä»¶æ‰€åœ¨ç›®å½•
            src_dir = os.path.dirname(os.path.abspath(src_path))
            # 72. æ„å»ºå¯èƒ½çš„å›¾æ ‡è·¯å¾„
            potential_icon = os.path.join(src_dir, "icon.png")
            # 73. æ£€æŸ¥å›¾æ ‡æ˜¯å¦å­˜åœ¨
            if os.path.exists(potential_icon):
                # 74. å¦‚æœå­˜åœ¨ï¼Œè®¾ç½®å›¾æ ‡è·¯å¾„
                icon_path = potential_icon
            # 75. å¤åˆ¶HTMLæ–‡ä»¶åˆ°wwwç›®å½•å¹¶é‡å‘½åä¸ºindex.html
            shutil.copy2(src_path, os.path.join(www_dir, "index.html"))
        else:
            # 76. ç›®å½•æ¨¡å¼ï¼šæ„å»ºå›¾æ ‡è·¯å¾„
            potential_icon = os.path.join(os.path.abspath(src_path), "icon.png")
            # 77. æ£€æŸ¥å›¾æ ‡æ˜¯å¦å­˜åœ¨
            if os.path.exists(potential_icon):
                # 78. å¦‚æœå­˜åœ¨ï¼Œè®¾ç½®å›¾æ ‡è·¯å¾„
                icon_path = potential_icon
            # 79. å¤åˆ¶æ•´ä¸ªç›®å½•åˆ°wwwç›®å½•
            shutil.copytree(src_path, www_dir, dirs_exist_ok=True)
        
        # 80. æ£€æŸ¥å›¾æ ‡è·¯å¾„æ˜¯å¦å­˜åœ¨
        if icon_path and os.path.exists(icon_path):
            # 81. æ‰“å°å›¾æ ‡é…ç½®ä¿¡æ¯
            print("ğŸ¨æ£€æµ‹åˆ°å›¾æ ‡ï¼Œæ­£åœ¨é…ç½®...")
            # 82. æ„å»ºç›®æ ‡å›¾æ ‡è·¯å¾„
            dest_icon = os.path.join(os.getcwd(), "icon.png")
            # 83. å¤åˆ¶å›¾æ ‡åˆ°é¡¹ç›®æ ¹ç›®å½•
            shutil.copy2(icon_path, dest_icon)
            # 84. å®šä¹‰é…ç½®æ–‡ä»¶è·¯å¾„
            config_path = "config.xml"
            # 85. ä»¥åªè¯»æ¨¡å¼æ‰“å¼€é…ç½®æ–‡ä»¶
            with open(config_path, 'r', encoding='utf-8') as f:
                # 86. è¯»å–é…ç½®æ–‡ä»¶å†…å®¹
                config_content = f.read()
            # 87. æŸ¥æ‰¾widgetæ ‡ç­¾å¼€å§‹ä½ç½®
            widget_start = config_content.find('&lt;widget')
            # 88. æ£€æŸ¥æ˜¯å¦æ‰¾åˆ°widgetæ ‡ç­¾
            if widget_start != -1:
                # 89. æ„å»ºå›¾æ ‡é…ç½®å­—ç¬¦ä¸²
                icon_config = '\n    &lt;icon src="icon.png" /&gt;\n'
                # 90. æŸ¥æ‰¾widgetæ ‡ç­¾ç»“æŸä½ç½®
                insert_pos = config_content.find('&gt;', widget_start) + 1
                # 91. åœ¨widgetæ ‡ç­¾åæ’å…¥å›¾æ ‡é…ç½®
                new_config = config_content[:insert_pos] + icon_config + config_content[insert_pos:]
                # 92. ä»¥å†™å…¥æ¨¡å¼æ‰“å¼€é…ç½®æ–‡ä»¶
                with open(config_path, 'w', encoding='utf-8') as f:
                    # 93. å†™å…¥æ–°çš„é…ç½®å†…å®¹
                    f.write(new_config)
        
        # æ­¥éª¤å››ï¼šæ·»åŠ å¹³å°å’Œæ’ä»¶
        # 94. æ‰“å°æ·»åŠ Androidå¹³å°ä¿¡æ¯
        print("ğŸ¤–æ·»åŠ Androidå¹³å°...")
        # 95. æ·»åŠ æŒ‡å®šç‰ˆæœ¬çš„Androidå¹³å°ï¼Œä¸ä½¿ç”¨fetch
        run_command("cordova platform add android@12.0.1 --no-fetch")
        # 96. æ‰“å°æ·»åŠ æ’ä»¶ä¿¡æ¯
        print("ğŸ”Œæ·»åŠ åŸºç¡€æ’ä»¶...")
        # 97. æ·»åŠ åº”ç”¨å†…æµè§ˆå™¨æ’ä»¶
        run_command("cordova plugin add cordova-plugin-inappbrowser")
        # 98. æ·»åŠ æ–‡ä»¶æ“ä½œæ’ä»¶
        run_command("cordova plugin add cordova-plugin-file")
        # 99. æ·»åŠ å¯¹è¯æ¡†æ’ä»¶
        run_command("cordova plugin add cordova-plugin-dialogs")
        # 100. æ·»åŠ ç¤¾äº¤åˆ†äº«æ’ä»¶
        run_command("cordova plugin add cordova-plugin-x-socialsharing")
        
        # æ­¥éª¤äº”ï¼šé…ç½®æƒé™
        # 101. æ‰“å°é…ç½®æƒé™ä¿¡æ¯
        print("ğŸ“‹é…ç½®å¿…è¦æƒé™...")
        # 102. å®šä¹‰Androidæ¸…å•æ–‡ä»¶è·¯å¾„
        manifest_path = "platforms/android/app/src/main/AndroidManifest.xml"
        # 103. ä»¥åªè¯»æ¨¡å¼æ‰“å¼€æ¸…å•æ–‡ä»¶
        with open(manifest_path, 'r') as f:
            # 104. è¯»å–æ¸…å•æ–‡ä»¶å†…å®¹
            manifest_content = f.read()
        # 105. å®šä¹‰éœ€è¦æ·»åŠ çš„æƒé™åˆ—è¡¨
        permissions = [
            'android.permission.WRITE_EXTERNAL_STORAGE',
            'android.permission.READ_EXTERNAL_STORAGE'
        ]
        # 106. éå†æƒé™åˆ—è¡¨
        for perm in permissions:
            # 107. æ£€æŸ¥æƒé™æ˜¯å¦å·²å­˜åœ¨
            if f'android:name="{perm}"' not in manifest_content:
                # 108. å¦‚æœä¸å­˜åœ¨ï¼Œåœ¨manifestç»“æŸæ ‡ç­¾å‰æ·»åŠ æƒé™
                manifest_content = manifest_content.replace(
                    '&lt;/manifest&gt;', f'    &lt;uses-permission android:name="{perm}" /&gt;\n&lt;/manifest&gt;'
                )
        # 109. æ£€æŸ¥æ˜¯å¦éœ€è¦æ·»åŠ ä¼ ç»Ÿå­˜å‚¨æ¨¡å¼æ”¯æŒ
        if 'android:requestLegacyExternalStorage="true"' not in manifest_content:
            # 110. åœ¨applicationæ ‡ç­¾ä¸­æ·»åŠ ä¼ ç»Ÿå­˜å‚¨æ¨¡å¼å±æ€§
            manifest_content = manifest_content.replace(
                '&lt;application', '&lt;application android:requestLegacyExternalStorage="true"'
            )
        # 111. ä»¥å†™å…¥æ¨¡å¼æ‰“å¼€æ¸…å•æ–‡ä»¶
        with open(manifest_path, 'w') as f:
            # 112. å†™å…¥æ›´æ–°åçš„æ¸…å•å†…å®¹
            f.write(manifest_content)
        
        # æ­¥éª¤å…­ï¼šé…ç½®ç½‘ç»œå®‰å…¨
        # 113. æ‰“å°é…ç½®ç½‘ç»œå®‰å…¨ä¿¡æ¯
        print("ğŸ”’é…ç½®ç½‘ç»œå®‰å…¨ç­–ç•¥...")
        # 114. å®šä¹‰é…ç½®ç›®å½•è·¯å¾„
        config_dir = "platforms/android/app/src/main/res/xml"
        # 115. åˆ›å»ºé…ç½®ç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
        os.makedirs(config_dir, exist_ok=True)
        # 116. å®šä¹‰ç½‘ç»œå®‰å…¨é…ç½®æ–‡ä»¶è·¯å¾„
        config_file_path = os.path.join(config_dir, "network_security_config.xml")
        # 117. ä»¥å†™å…¥æ¨¡å¼åˆ›å»ºç½‘ç»œå®‰å…¨é…ç½®æ–‡ä»¶
        with open(config_file_path, 'w') as f:
            # 118. å†™å…¥ç½‘ç»œå®‰å…¨é…ç½®XMLå†…å®¹
            f.write(
                '&lt;?xml version="1.0" encoding="utf-8"?&gt;\n'
                '&lt;network-security-config&gt;\n'
                '    &lt;base-config cleartextTrafficPermitted="true" /&gt;\n'
                '&lt;/network-security-config&gt;\n'
            )
        # 119. ä»¥åªè¯»æ¨¡å¼é‡æ–°è¯»å–æ¸…å•æ–‡ä»¶
        with open(manifest_path, 'r') as f:
            # 120. è¯»å–æ¸…å•æ–‡ä»¶å†…å®¹
            manifest_content = f.read()
        # 121. æ£€æŸ¥æ˜¯å¦éœ€è¦æ·»åŠ æ˜æ–‡æµé‡æ”¯æŒ
        if 'android:usesCleartextTraffic="true"' not in manifest_content:
            # 122. åœ¨applicationæ ‡ç­¾ä¸­æ·»åŠ æ˜æ–‡æµé‡å±æ€§
            manifest_content = manifest_content.replace(
                '&lt;application', '&lt;application android:usesCleartextTraffic="true"'
            )
        # 123. æ£€æŸ¥æ˜¯å¦éœ€è¦æ·»åŠ ç½‘ç»œå®‰å…¨é…ç½®å¼•ç”¨
        if 'android:networkSecurityConfig="@xml/network_security_config"' not in manifest_content:
            # 124. åœ¨applicationæ ‡ç­¾ä¸­æ·»åŠ ç½‘ç»œå®‰å…¨é…ç½®å±æ€§
            manifest_content = manifest_content.replace(
                '&lt;application', '&lt;application android:networkSecurityConfig="@xml/network_security_config"'
            )
        # 125. ä»¥å†™å…¥æ¨¡å¼æ‰“å¼€æ¸…å•æ–‡ä»¶
        with open(manifest_path, 'w') as f:
            # 126. å†™å…¥æ›´æ–°åçš„æ¸…å•å†…å®¹
            f.write(manifest_content)
        
        # æ­¥éª¤ä¸ƒï¼šé…ç½®Gradle
        # 127. æ‰“å°é…ç½®Gradleä¿¡æ¯
        print("âš™ï¸é…ç½®Gradle...")
        # 128. å®šä¹‰Gradleå±æ€§æ–‡ä»¶è·¯å¾„
        gradle_props_path = os.path.join("platforms", "android", "gradle.properties")
        # 129. å®šä¹‰Termuxä¸­çš„aapt2è·¯å¾„
        aapt2_termux_path = "/data/data/com.termux/files/usr/bin/aapt2"
        # 130. ä»¥è¿½åŠ æ¨¡å¼æ‰“å¼€Gradleå±æ€§æ–‡ä»¶
        with open(gradle_props_path, "a") as f:
            # 131. å†™å…¥aapt2è·¯å¾„è¦†ç›–é…ç½®
            f.write(f"\nandroid.aapt2FromMavenOverride={aapt2_termux_path}\n")
            # 132. å†™å…¥ç¦ç”¨aapt2å®ˆæŠ¤è¿›ç¨‹é…ç½®
            f.write("android.enableAapt2Daemon=false\n")
        
        # æ­¥éª¤å…«ï¼šæ¸…ç†æ„å»ºç¼“å­˜
        # 133. æ‰“å°æ¸…ç†ç¼“å­˜ä¿¡æ¯
        print("ğŸ§¹æ¸…ç†æ„å»ºç¼“å­˜...")
        # 134. åˆ é™¤Androidå¹³å°æ„å»ºç›®å½•
        shutil.rmtree("platforms/android/build", ignore_errors=True)
        # 135. åˆ é™¤åº”ç”¨æ„å»ºç›®å½•
        shutil.rmtree("platforms/android/app/build", ignore_errors=True)
        # 136. ç»ˆæ­¢gradleè¿›ç¨‹ï¼ˆä¸æ£€æŸ¥é”™è¯¯ï¼‰
        run_command("pkill -f gradle", check=False)
        
        # æ­¥éª¤ä¹ï¼šæ‰§è¡Œæ„å»º
        # 137. æ‰“å°å¼€å§‹æ„å»ºä¿¡æ¯
        print("ğŸ—ï¸å¼€å§‹æ„å»º...")
        # 138. æ‰§è¡ŒCordova Androidæ„å»ºå‘½ä»¤
        run_command("cordova build android")
        
        # æ­¥éª¤åï¼šå¤åˆ¶APK
        # 139. æ‰“å°å¤åˆ¶APKä¿¡æ¯
        print("ğŸ“¦å¤åˆ¶APK...")
        # 140. åˆ›å»ºè¾“å‡ºç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
        os.makedirs(OUT_DIR, exist_ok=True)
        # 141. å®šä¹‰APKæºæ–‡ä»¶è·¯å¾„
        apk_src_path = "platforms/android/app/build/outputs/apk/debug/app-debug.apk"
        # 142. å®šä¹‰APKç›®æ ‡æ–‡ä»¶è·¯å¾„
        apk_dest_path = os.path.join(OUT_DIR, "å‡‰å®‰V1r.apk")
        # 143. å¤åˆ¶APKæ–‡ä»¶åˆ°ç›®æ ‡ä½ç½®
        shutil.copy2(apk_src_path, apk_dest_path)
        # 144. æ‰“å°æ„å»ºå®Œæˆä¿¡æ¯
        print(f"âœ…æ„å»ºå®Œæˆâ†’{apk_dest_path}")
        
    finally:
        # 145. æ— è®ºæ˜¯å¦å‡ºé”™ï¼Œéƒ½åˆ‡æ¢å›åŸå·¥ä½œç›®å½•
        os.chdir(original_cwd)

# 146. å¤åˆ¶æœ€æ–°APK
def copy_latest_apk():
    """å¤åˆ¶æœ€æ–°APK"""
    # 147. æ‰“å°æ¢è¡Œç¬¦å’ŒåŠŸèƒ½æ ‡é¢˜
    print("\n=== å¤åˆ¶æœ€æ–°APK ===")
    # 148. æ£€æŸ¥é¡¹ç›®ç›®å½•æ˜¯å¦å­˜åœ¨
    if not os.path.isdir(PROJ_DIR):
        # 149. å¦‚æœä¸å­˜åœ¨ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯
        print("âŒé¡¹ç›®ç›®å½•ä¸å­˜åœ¨")
        # 150. è¿”å›ç»“æŸå‡½æ•°
        return
    # 151. ä¿å­˜å½“å‰å·¥ä½œç›®å½•
    original_cwd = os.getcwd()
    # 152. åˆ‡æ¢åˆ°é¡¹ç›®ç›®å½•
    os.chdir(PROJ_DIR)
    
    try:
        # 153. æŸ¥æ‰¾æ‰€æœ‰APKæ–‡ä»¶
        apk_list = glob.glob("./*.apk", recursive=True)
        # 154. æ£€æŸ¥æ˜¯å¦æ‰¾åˆ°APKæ–‡ä»¶
        if not apk_list:
            # 155. å¦‚æœæ²¡æœ‰æ‰¾åˆ°ï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯
            print("âŒæœªæ‰¾åˆ°APK")
            # 156. è¿”å›ç»“æŸå‡½æ•°
            return
        # 157. æ‰¾åˆ°æœ€æ–°ä¿®æ”¹çš„APKæ–‡ä»¶
        latest_apk_path = max(apk_list, key=os.path.getmtime)
        # 158. ç”ŸæˆéšæœºAPKæ–‡ä»¶å
        new_name = rand_apk_name()
        # 159. åˆ›å»ºè¾“å‡ºç›®å½•ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
        os.makedirs(OUT_DIR, exist_ok=True)
        # 160. æ„å»ºç›®æ ‡æ–‡ä»¶è·¯å¾„
        dest_path = os.path.join(OUT_DIR, new_name)
        # 161. å¤åˆ¶APKæ–‡ä»¶åˆ°ç›®æ ‡ä½ç½®
        shutil.copy2(latest_apk_path, dest_path)
        # 162. æ‰“å°å¤åˆ¶å®Œæˆä¿¡æ¯
        print(f"âœ…å·²å¤åˆ¶â†’{dest_path}")
        
    finally:
        # 163. æ— è®ºæ˜¯å¦å‡ºé”™ï¼Œéƒ½åˆ‡æ¢å›åŸå·¥ä½œç›®å½•
        os.chdir(original_cwd)

# 164. æ£€æŸ¥æ˜¯å¦ä¸ºä¸»ç¨‹åºå…¥å£
if __name__ == "__main__":
    # 165. æ‰“å°ç¨‹åºæ ‡é¢˜
    print("=== Cordovaæ„å»ºå·¥å…·ï¼ˆå‡‰å®‰Væ¸©å’Œç‰ˆï¼‰===")
    # 166. æ‰“å°é€‰é¡¹1
    print("1) æ‰“åŒ…ç½‘é¡µä¸ºAPKï¼ˆæ¸©å’Œé…ç½®ï¼‰")
    # 167. æ‰“å°é€‰é¡¹2
    print("2) å¤åˆ¶æœ€æ–°APK")
    # 168. è·å–ç”¨æˆ·é€‰æ‹©
    choice = input("è¯·è¾“å…¥é€‰æ‹©(1/2): ")
    # 169. æ£€æŸ¥é€‰æ‹©æ˜¯å¦ä¸º1
    if choice == "1":
        # 170. å¦‚æœæ˜¯1ï¼Œæ‰§è¡Œæ„å»ºAPKå‡½æ•°
        build_apk()
    # 171. æ£€æŸ¥é€‰æ‹©æ˜¯å¦ä¸º2
    elif choice == "2":
        # 172. å¦‚æœæ˜¯2ï¼Œæ‰§è¡Œå¤åˆ¶APKå‡½æ•°
        copy_latest_apk()
    else:
        # 173. å¦‚æœé€‰æ‹©æ— æ•ˆï¼Œæ‰“å°é”™è¯¯ä¿¡æ¯
        print("âŒæ— æ•ˆé€‰æ‹©")</code></pre> 
            </div> 
            
            <!-- 26. è„šæœ¬è¯´æ˜å¡ç‰‡-->
            <div class="script-info">
                <h3>ğŸ“„ è„šæœ¬è¯´æ˜</h3>
                <p>è¿™æ˜¯ä¸€ä¸ªå‡‰å®‰Vå®šåˆ¶çš„Cordovaæ„å»ºå·¥å…·ï¼Œç”¨äºå°†HTMLç½‘é¡µæ‰“åŒ…ä¸ºAndroid APKåº”ç”¨ã€‚</p>
                <ul>
                    <li>æ”¯æŒå•ä¸ªHTMLæ–‡ä»¶æˆ–æ•´ä¸ªç›®å½•æ‰“åŒ…</li>
                    <li>è‡ªåŠ¨æ£€æµ‹å¹¶å®‰è£…ä¾èµ–</li>
                    <li>é…ç½®Androidæƒé™å’Œç½‘ç»œå®‰å…¨</li>
                    <li>æ”¯æŒå›¾æ ‡è‡ªåŠ¨é…ç½®</li>
                    <li>è¾“å‡ºAPKåˆ°ä¸‹è½½ç›®å½•</li>
                </ul>
                <p><strong>ä½¿ç”¨æ–¹æ³•ï¼š</strong>è¿è¡Œè„šæœ¬åé€‰æ‹©æ‰“åŒ…æ¨¡å¼ï¼Œè¾“å…¥HTMLæ–‡ä»¶æˆ–ç›®å½•è·¯å¾„å³å¯ã€‚</p>
            </div>
        </div> 
    </div> 
    
    <!-- 27. Toasté€šçŸ¥-->
    <div id="toast" class="toast">å¤åˆ¶æˆåŠŸï¼</div>
    
    <script>
        // 1. å¤åˆ¶ä»£ç åŠŸèƒ½
        function copyCode(elementId) {
            // 2. è·å–ä»£ç å…ƒç´ 
            const codeElement = document.getElementById(elementId);
            // 3. è·å–å¤åˆ¶æŒ‰é’®
            const copyBtn = event.target.closest('.copy-btn');
            // 4. è·å–toastå…ƒç´ 
            const toast = document.getElementById('toast');
            
            // 5. åˆ›å»ºä¸´æ—¶textareaå…ƒç´ 
            const textArea = document.createElement('textarea');
            textArea.value = codeElement.textContent;
            textArea.style.position = 'fixed';
            textArea.style.left = '-999999px';
            textArea.style.top = '-999999px';
            
            // 6. æ·»åŠ åˆ°DOM
            document.body.appendChild(textArea);
            textArea.focus();
            textArea.select();
            
            // 7. å°è¯•å¤åˆ¶
            try {
                const successful = document.execCommand('copy');
                if (successful) {
                    // 8. å¤„ç†å¤åˆ¶æˆåŠŸ
                    handleCopySuccess(copyBtn, toast);
                } else {
                    // 9. å¤„ç†å¤åˆ¶å¤±è´¥
                    showCopyError(copyBtn, toast);
                }
            } catch (err) {
                // 10. å¼‚å¸¸å¤„ç†
                showCopyError(copyBtn, toast);
            }
            
            // 11. ç§»é™¤ä¸´æ—¶å…ƒç´ 
            document.body.removeChild(textArea);
        }
        
        // 12. å¤„ç†å¤åˆ¶æˆåŠŸ
        function handleCopySuccess(copyBtn, toast) {
            // 13. è·å–æŒ‰é’®åŸå§‹æ–‡æœ¬
            const originalText = copyBtn.textContent;
            // 14. æ›´æ–°æŒ‰é’®æ–‡æœ¬
            copyBtn.textContent = 'âœ…å·²å¤åˆ¶';
            
            // 15. æ›´æ–°toastå†…å®¹
            toast.textContent = 'âœ…ä»£ç å·²å¤åˆ¶åˆ°å‰ªè´´æ¿';
            toast.style.background = '#0e639c';
            toast.classList.add('show');
            
            // 16. 2ç§’åæ¢å¤
            setTimeout(function() {
                copyBtn.textContent = originalText;
                toast.classList.remove('show');
            }, 2000);
        }
        
        // 17. æ˜¾ç¤ºå¤åˆ¶é”™è¯¯
        function showCopyError(copyBtn, toast) {
            // 18. æ›´æ–°toastå†…å®¹
            toast.textContent = 'âŒå¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©å¤åˆ¶';
            toast.style.background = '#d32f2f';
            toast.classList.add('show');
            
            // 19. 3ç§’åæ¢å¤
            setTimeout(function() {
                toast.classList.remove('show');
                toast.style.background = '#0e639c';
            }, 3000);
        }
        
        // 20. é¡µé¢åŠ è½½å®Œæˆåçš„åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            // 21. åˆå§‹åŒ–ä»£ç é«˜äº®
            Prism.highlightAll();
        });
    </script>
</body> 
</html>
