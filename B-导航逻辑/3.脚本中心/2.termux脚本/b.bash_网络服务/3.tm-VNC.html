<!DOCTYPE html> 
<html lang="zh-CN"> 
<head>
<meta charset="utf-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TigerVNC å®‰è£…ä¸ä½¿ç”¨</title>
<script src="/A2_å…¨å±€ä¸­å¿ƒ/B_æ’ä»¶ç¼“å­˜-CDN/1.prismä»£ç é«˜äº®/1.prism-css-ç™½è‰²ä¸»é¢˜.js"></script>
<script src="/A2_å…¨å±€ä¸­å¿ƒ/B_æ’ä»¶ç¼“å­˜-CDN/1.prismä»£ç é«˜äº®/prism-core.min.js"></script>
<script src="/A2_å…¨å±€ä¸­å¿ƒ/B_æ’ä»¶ç¼“å­˜-CDN/1.prismä»£ç é«˜äº®/prism-bash.min.js"></script>
<script src="/A2_å…¨å±€ä¸­å¿ƒ/B_æ’ä»¶å·¥å…·/3.æ’ä»¶_å­—ä½“ç¼©æ”¾.js"></script>

<style>
* { margin: 0; padding: 0; box-sizing: border-box; }
body { 
    font-family: 'Consolas', 'Monaco', 'Courier New', monospace; 
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    color: #2c3e50; 
    line-height: 1.4; 
    padding: 10px; 
    min-height: 100vh; 
}
.container { 
    max-width: 100%; 
    margin: 0 auto; 
    animation: fadeIn 0.5s ease-in; 
}
h1 { 
    color: #ffffff; 
    margin-bottom: 15px; 
    font-size: 22px; 
    display: flex; 
    align-items: center; 
    gap: 8px; 
    text-shadow: 0 2px 4px rgba(255, 255, 255, 0.3); 
    animation: slideDown 0.6s ease-out; 
}
.tabs { 
    display: flex; 
    background: rgba(255, 255, 255, 0.1); 
    border-radius: 8px; 
    padding: 4px; 
    margin-bottom: 15px; 
    backdrop-filter: blur(10px); 
}
.tab { 
    flex: 1; 
    padding: 10px; 
    text-align: center; 
    color: rgba(255, 255, 255, 0.7); 
    font-size: 14px; 
    font-weight: 600; 
    cursor: pointer; 
    border-radius: 6px; 
    transition: all 0.3s ease; 
}
.tab.active { 
    background: rgba(255, 255, 255, 0.95); 
    color: #667eea; 
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1); 
}
.tab-content { 
    display: none; 
    animation: fadeIn 0.3s ease-in; 
}
.tab-content.active { 
    display: block; 
}
.code-container { 
    background: #ffffff; 
    border-radius: 8px; 
    overflow: hidden; 
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); 
    border: 1px solid #e1e8ed; 
    transition: transform 0.3s ease, box-shadow 0.3s ease; 
    margin-bottom: 15px; 
}
.code-container:hover { 
    transform: translateY(-2px); 
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); 
}
.code-header { 
    background: linear-gradient(90deg, #f8f9fa 0%, #e9ecef 100%); 
    padding: 10px 15px; 
    border-bottom: 1px solid #dee2e6; 
    display: flex; 
    justify-content: space-between; 
    align-items: center; 
}
.code-title { 
    color: #6c757d; 
    font-size: 12px; 
    font-weight: 600; 
    letter-spacing: 0.5px; 
}
.copy-btn { 
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    color: white; 
    border: none; 
    padding: 6px 12px; 
    border-radius: 4px; 
    cursor: pointer; 
    font-size: 11px; 
    font-weight: 600; 
    transition: all 0.3s ease; 
    display: flex; 
    align-items: center; 
    gap: 4px; 
    box-shadow: 0 2px 4px rgba(102, 126, 234, 0.3); 
}
.copy-btn:hover { 
    background: linear-gradient(135deg, #764ba2 0%, #667eea 100%); 
    transform: scale(1.05); 
    box-shadow: 0 4px 8px rgba(102, 126, 234, 0.4); 
}
.copy-btn.copied { 
    background: linear-gradient(135deg, #3498db 0%, #2980b9 100%); 
}
pre { 
    background: #f8f9fa; 
    padding: 15px; 
    overflow-x: auto; 
    font-size: 11px; 
    line-height: 1.4; 
    border-radius: 0 0 8px 8px; 
    margin: 0; 
}
code { 
    color: #495057; 
    font-family: inherit; 
    white-space: pre; 
}
.info-section { 
    margin-top: 15px; 
    padding: 12px; 
    background: rgba(255, 255, 255, 0.9); 
    border-radius: 8px; 
    backdrop-filter: blur(10px); 
    border: 1px solid #e1e8ed; 
}
.info-section h2 { 
    color: #667eea; 
    margin-bottom: 8px; 
    font-size: 16px; 
}
.info-grid { 
    display: grid; 
    grid-template-columns: 1fr; 
    gap: 8px; 
    margin-top: 8px; 
}
.info-item { 
    background: rgba(248, 249, 250, 0.9); 
    padding: 8px; 
    border-radius: 6px; 
    border-left: 3px solid #667eea; 
    transition: transform 0.3s ease, box-shadow 0.3s ease; 
}
.info-item:hover { 
    transform: translateX(5px); 
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); 
}
.info-label { 
    color: #6c757d; 
    font-size: 10px; 
    margin-bottom: 2px; 
    text-transform: uppercase; 
    letter-spacing: 0.5px; 
}
.info-content { 
    color: #2c3e50; 
    font-size: 11px; 
}
.card { 
    background: rgba(255, 255, 255, 0.95); 
    border-radius: 8px; 
    padding: 12px; 
    margin-bottom: 12px; 
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15); 
    border: 1px solid #e1e8ed; 
    transition: transform 0.3s ease, box-shadow 0.3s ease; 
}
.card:hover { 
    transform: translateY(-2px); 
    box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2); 
}
.step-number { 
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
    color: white; 
    width: 24px; 
    height: 24px; 
    border-radius: 50%; 
    display: inline-flex; 
    align-items: center; 
    justify-content: center; 
    font-size: 12px; 
    font-weight: bold; 
    margin-right: 8px; 
}
.step-title { 
    font-size: 14px; 
    font-weight: 600; 
    color: #2c3e50; 
    margin-bottom: 6px; 
    display: flex; 
    align-items: center; 
}
.step-content { 
    font-size: 12px; 
    color: #495057; 
    padding-left: 32px; 
}
.highlight { 
    background: rgba(102, 126, 234, 0.1); 
    padding: 2px 4px; 
    border-radius: 3px; 
    font-family: monospace; 
    font-weight: 600; 
    color: #667eea; 
}
.client-grid { 
    display: grid; 
    grid-template-columns: 1fr; 
    gap: 8px; 
    margin-top: 8px; 
}
.client-item { 
    background: rgba(248, 249, 250, 0.9); 
    padding: 8px; 
    border-radius: 6px; 
    border-left: 3px solid #667eea; 
    transition: transform 0.3s ease; 
}
.client-item:hover { 
    transform: translateX(5px); 
}
.client-name { 
    font-weight: 600; 
    color: #2c3e50; 
    font-size: 12px; 
    margin-bottom: 2px; 
}
.client-desc { 
    font-size: 11px; 
    color: #6c757d; 
}
.note-box { 
    background: rgba(255, 193, 7, 0.1); 
    border-left: 3px solid #ffc107; 
    padding: 8px; 
    border-radius: 4px; 
    margin-top: 8px; 
    font-size: 11px; 
    color: #856404; 
}
.toast { 
    position: fixed; 
    bottom: 20px; 
    right: 20px; 
    background: #667eea; 
    color: white; 
    padding: 10px 16px; 
    border-radius: 6px; 
    font-size: 12px; 
    z-index: 1000; 
    opacity: 0; 
    transform: translateY(10px); 
    transition: all 0.3s ease; 
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2); 
}
.toast.show { 
    opacity: 1; 
    transform: translateY(0); 
}
@keyframes fadeIn { 
    from { opacity: 0; } 
    to { opacity: 1; } 
}
@keyframes slideDown { 
    from { opacity: 0; transform: translateY(-20px); } 
    to { opacity: 1; transform: translateY(0); } 
}
</style>
</head>
<body>
<div class="container">
<h1>ğŸš€ Tiger-VNC å®‰è£…ä¸ä½¿ç”¨</h1>
<div class="tabs">
<div class="tab active" onclick="switchTab('install')">ğŸ“¦ å®‰è£…è„šæœ¬</div>
<div class="tab" onclick="switchTab('usage')">ğŸ–¥ï¸ ä½¿ç”¨è¯´æ˜</div>
</div>

<div id="install" class="tab-content active">
<div class="code-container">
<div class="code-header">
<span class="code-title">install_vnc.sh</span>
<button class="copy-btn" id="copyBtn" onclick="copyCode()">
<span>ğŸ“‹</span>
<span id="copyBtnText">å¤åˆ¶</span>
</button>
</div>
<pre><code id="codeContent" class="language-bash">#!/bin/sh
# ==========================================================
# Termux ä¸€é”®å®‰è£…/é‡è£… TigerVNC + XFCEï¼ˆæç¤ºå¯è§ç‰ˆï¼‰
# ==========================================================

# 1. åªåœ¨æ²¡æœ‰ tigervnc æ—¶æ‰è£…
if ! pkg list-installed | grep -q tigervnc; then
    echo "====== é¦–æ¬¡å®‰è£…ä¾èµ– ======"
    pkg update -y
    pkg install -y x11-repo
    pkg install -y tigervnc xfce4
else
    echo "====== ä¾èµ–å·²å­˜åœ¨ï¼Œè·³è¿‡å®‰è£… ======"
fi

# 2. ï¼ˆå¯é€‰ï¼‰å½»åº•æ¸…æ‰æ—§é…ç½®
read -p "æ˜¯å¦å®Œå…¨é‡ç½® VNC é…ç½®ï¼ˆå«å¯†ç ï¼‰? y/n: " choice
if  "$choice" = "y" ; then
    vncserver -kill :1 2>/dev/null
    rm -rf $HOME/.vnc $HOME/.Xauthority \
           /data/data/com.termux/files/usr/tmp/.X1-lock \
           /data/data/com.termux/files/usr/tmp/.X11-unix/X1
fi

# 3. æ˜¾å¼é‡ç½®å¯†ç ï¼ˆå‰å°äº¤äº’ï¼Œæç¤ºæ¸…æ™°å¯è§ï¼‰
echo "====== è¯·è®¾ç½® VNC å¯†ç ï¼ˆâ‰¤8 ä½ï¼‰ ======"
vncpasswd              # è¿™å›ä¸€å®šçœ‹å¾—åˆ° Password:/Verify:/view-only ä¸‰é—®
vncserver -kill :1 2>/dev/null   # æ¸…æ‰åˆšæ‰çš„æ¼”ç¤ºå®ä¾‹

# 4. å†™å…¥å¯åŠ¨è„šæœ¬
mkdir -p $HOME/.vnc
cat > $HOME/.vnc/xstartup <<'EOF'
#!/data/data/com.termux/files/usr/bin/sh
unset SESSION_MANAGER
unset DBUS_SESSION_BUS_ADDRESS
exec startxfce4
EOF
chmod +x $HOME/.vnc/xstartup

# 5. åˆ†è¾¨ç‡
echo "geometry=1280x720" >> $HOME/.vnc/config

# 6. å¯åŠ¨ VNC
vncserver -kill :1 2>/dev/null
vncserver :1

# 7. è¾“å‡ºè¿æ¥ä¿¡æ¯
echo "=================================================="
echo "VNC å·²å¯åŠ¨åœ¨ :1 ï¼ˆç«¯å£ 5901ï¼‰"
echo "ç”¨ VNC å®¢æˆ·ç«¯è¿æ¥ï¼š"
echo "  æœ¬æœºç›´æ¥å¡«  localhost:1"
echo "  å±€åŸŸç½‘å¡«    $(ip route get 1 | awk '{print $7; exit}'):1"
echo "å¯†ç å³ä½ åˆšæ‰è¾“å…¥çš„é‚£ç»„ï¼ˆ8 ä½ä»¥å†…ï¼‰"
echo "=================================================="</code></pre>
</div>
<div class="info-section">
<h2>ğŸ“‹ è„šæœ¬è¯´æ˜</h2>
<div class="info-grid">
<div class="info-item">
<div class="info-label">ğŸ¯ åŠŸèƒ½</div>
<div class="info-content">ä¸€é”®å®‰è£…TigerVNCæœåŠ¡å™¨å’ŒXFCEæ¡Œé¢ç¯å¢ƒ</div>
</div>
<div class="info-item">
<div class="info-label">ğŸ“ ä¿å­˜æ–‡ä»¶</div>
<div class="info-content">ä¿å­˜ä¸º install_vnc.sh æ–‡ä»¶</div>
</div>
<div class="info-item">
<div class="info-label">âš¡ è¿è¡Œæ–¹æ³•</div>
<div class="info-content">åœ¨Termuxä¸­æ‰§è¡Œ: bash install_vnc.sh</div>
</div>
<div class="info-item">
<div class="info-label">ğŸ› ï¸ ä¾èµ–</div>
<div class="info-content">éœ€è¦Termuxç¯å¢ƒï¼Œè„šæœ¬ä¼šè‡ªåŠ¨å®‰è£…æ‰€éœ€ä¾èµ–</div>
</div>
</div>
</div>
</div>

<div id="usage" class="tab-content">
<div class="card">
<div class="step-title"><span class="step-number">1</span>å¯†ç è¯´æ˜</div>
<div class="step-content">å¯†ç ä½ ç¬¬ä¸€æ¬¡å°±å·²ç»è®¾è¿‡äº†ï¼ˆ123456ï¼‰ï¼ŒVNC åªä¼šåœ¨ç¬¬ä¸€æ¬¡å¯åŠ¨æ—¶é—®ä¸€æ¬¡ï¼Œä»¥åæ¯æ¬¡å¤ç”¨ <span class="highlight">~/.vnc/passwd</span>ï¼Œæ‰€ä»¥ä¸ä¼šå†å¼¹å¯†ç æç¤ºâ€”â€”è¿™æ˜¯æ­£å¸¸ç°è±¡ã€‚</div>
</div>
<div class="card">
<div class="step-title"><span class="step-number">2</span>è¿æ¥ä¿¡æ¯</div>
<div class="step-content">ç°åœ¨æœåŠ¡å·²é‡æ–°å¯åŠ¨ï¼Œç›´æ¥æ‹¿ VNC å®¢æˆ·ç«¯è¿æ¥å³å¯ï¼š<br><br>â€¢ åœ°å€ï¼š<span class="highlight">localhost:1</span><br>â€¢ å¯†ç ï¼š<span class="highlight">123456</span><br><br>è¿è¿›å»å°±èƒ½çœ‹åˆ° XFCE æ¡Œé¢äº†ã€‚</div>
</div>
<div class="card">
<div class="step-title"><span class="step-number">3</span>VNC å®¢æˆ·ç«¯æ¨è</div>
<div class="step-content">æ¨èä½¿ç”¨ä»¥ä¸‹ VNC å®¢æˆ·ç«¯è¿æ¥ï¼š</div>
<div class="client-grid">
<div class="client-item">
<div class="client-name">ğŸ“± AVNC</div>
<div class="client-desc">Android å¹³å°å…è´¹å¼€æº VNC å®¢æˆ·ç«¯ï¼Œç•Œé¢ç®€æ´ï¼Œæ”¯æŒæ‰‹åŠ¿æ“ä½œ</div>
</div>
<div class="client-item">
<div class="client-name">ğŸ“± VNC Viewer</div>
<div class="client-desc">RealVNC å®˜æ–¹å®¢æˆ·ç«¯ï¼Œæ”¯æŒå¤šå¹³å°ï¼ŒåŠŸèƒ½å¼ºå¤§</div>
</div>
<div class="client-item">
<div class="client-name">ğŸ’» TightVNC</div>
<div class="client-desc">Windows å¹³å°è½»é‡çº§ VNC å®¢æˆ·ç«¯ï¼Œå ç”¨èµ„æºå°‘</div>
</div>
</div>
</div>
<div class="card">
<div class="step-title"><span class="step-number">4</span>è¿æ¥æ­¥éª¤</div>
<div class="step-content">1. æ‰“å¼€ VNC å®¢æˆ·ç«¯åº”ç”¨<br>2. æ–°å»ºè¿æ¥æˆ–æ·»åŠ æœåŠ¡å™¨<br>3. åœ°å€è¾“å…¥ï¼š<span class="highlight">localhost:1</span><br>4. å¯†ç è¾“å…¥ï¼š<span class="highlight">123456</span><br>5. ç‚¹å‡»è¿æ¥å³å¯è¿›å…¥ XFCE æ¡Œé¢</div>
</div>
<div class="note-box">ğŸ’¡ æç¤ºï¼šå¦‚æœè¿æ¥å¤±è´¥ï¼Œè¯·ç¡®ä¿ VNC æœåŠ¡æ­£åœ¨è¿è¡Œï¼Œå¯ä»¥ä½¿ç”¨å‘½ä»¤ <span class="highlight">vncserver -list</span> æŸ¥çœ‹è¿è¡ŒçŠ¶æ€</div>
</div>
</div>

<div class="toast" id="toast"></div>

<script>
function switchTab(tabName) {
    const tabs = document.querySelectorAll('.tab');
    const contents = document.querySelectorAll('.tab-content');
    
    tabs.forEach(tab => tab.classList.remove('active'));
    contents.forEach(content => content.classList.remove('active'));
    
    event.target.classList.add('active');
    document.getElementById(tabName).classList.add('active');
}

function copyCode() {
    const codeElement = document.getElementById('codeContent');
    const textContent = codeElement.textContent;
    const copyBtn = document.getElementById('copyBtn');
    const copyBtnText = document.getElementById('copyBtnText');
    const toast = document.getElementById('toast');
    
    if (navigator.clipboard && navigator.clipboard.writeText) {
        navigator.clipboard.writeText(textContent).then(function() {
            copyBtn.classList.add('copied');
            copyBtnText.textContent = 'å·²å¤åˆ¶';
            toast.textContent = 'è„šæœ¬å·²å¤åˆ¶åˆ°å‰ªè´´æ¿';
            toast.classList.add('show');
            
            setTimeout(function() {
                copyBtn.classList.remove('copied');
                copyBtnText.textContent = 'å¤åˆ¶';
            }, 2000);
            
            setTimeout(function() {
                toast.classList.remove('show');
            }, 3000);
        }).catch(function(err) {
            showCopyError(toast);
        });
    } else {
        const textArea = document.createElement('textarea');
        textArea.value = textContent;
        textArea.style.position = 'fixed';
        textArea.style.opacity = '0';
        document.body.appendChild(textArea);
        textArea.focus();
        textArea.select();
        
        try {
            const successful = document.execCommand('copy');
            if (successful) {
                copyBtn.classList.add('copied');
                copyBtnText.textContent = 'å·²å¤åˆ¶';
                toast.textContent = 'è„šæœ¬å·²å¤åˆ¶åˆ°å‰ªè´´æ¿';
                toast.classList.add('show');
                
                setTimeout(function() {
                    copyBtn.classList.remove('copied');
                    copyBtnText.textContent = 'å¤åˆ¶';
                }, 2000);
                
                setTimeout(function() {
                    toast.classList.remove('show');
                }, 3000);
            } else {
                showCopyError(toast);
            }
        } catch (err) {
            showCopyError(toast);
        }
        document.body.removeChild(textArea);
    }
}

function showCopyError(toast) {
    toast.textContent = 'å¤åˆ¶å¤±è´¥ï¼Œè¯·æ‰‹åŠ¨é€‰æ‹©å¤åˆ¶';
    toast.style.background = '#e74c3c';
    toast.classList.add('show');
    
    setTimeout(function() {
        toast.classList.remove('show');
        toast.style.background = '#667eea';
    }, 3000);
}
</script>
</body>
</html>
