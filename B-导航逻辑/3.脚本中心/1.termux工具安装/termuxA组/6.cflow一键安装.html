<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>cflow ç¼–è¯‘å®‰è£…è„šæœ¬</title>
    
        <!-- prism.js è¯­æ³•é«˜äº®   -->
      <script src="/A2_å…¨å±€ä¸­å¿ƒ/B_æ’ä»¶ç¼“å­˜-CDN/1.prismä»£ç é«˜äº®/1.prism-css-ç™½è‰²ä¸»é¢˜.js"></script>   
      <script src="/A2_å…¨å±€ä¸­å¿ƒ/B_æ’ä»¶ç¼“å­˜-CDN/1.prismä»£ç é«˜äº®/prism-core.min.js"></script>    <!-- æ ¸å¿ƒæ–‡ä»¶ -->
      <script src="/A2_å…¨å±€ä¸­å¿ƒ/B_æ’ä»¶ç¼“å­˜-CDN/1.prismä»£ç é«˜äº®/prism-bash.min.js"></script>   <!-- Bashè¯­è¨€æ”¯æŒ -->
    <style>
        /* 1. å…¨å±€é‡ç½®å’ŒåŸºç¡€æ ·å¼ */
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        /* 2. ä¸»ä½“èƒŒæ™¯ - ç°ä»£ç®€çº¦æ¸å˜ */
        body {
            font-family: 'SF Pro Display', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            font-size: 70%; /* è°ƒæ•´å­—ä½“å¤§å°ä¸º70% */
            background: linear-gradient(135deg, #1a2942 0%, #2d4262 100%);
            min-height: 100vh;
            padding: 10px;
            position: relative;
            overflow-x: hidden;
        }
        
        /* 3. å¾®å¦™çš„èƒŒæ™¯çº¹ç† */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image: 
                radial-gradient(circle at 20% 50%, rgba(255,255,255,0.05) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255,255,255,0.03) 0%, transparent 50%),
                radial-gradient(circle at 40% 80%, rgba(255,255,255,0.04) 0%, transparent 50%),
                radial-gradient(circle at 90% 90%, rgba(255,255,255,0.02) 0%, transparent 50%);
            pointer-events: none;
            z-index: 0;
        }
        
        /* 4. å®¹å™¨æ ·å¼ */
        .container {
            max-width: 100%;
            margin: 0 auto;
            position: relative;
            z-index: 1;
        }
        
        /* 5. æ­¥éª¤æŒ‡ç¤ºå™¨ */
        .steps-indicator {
            display: flex;
            justify-content: space-between;
            margin: 0 10px 15px 10px;
            position: relative;
            z-index: 2;
        }
        
        .step {
            flex: 1;
            text-align: center;
            position: relative;
            padding: 8px 5px;
            font-size: 12px;
            color: rgba(255, 255, 255, 0.6);
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .step::before {
            content: '';
            position: absolute;
            bottom: 0;
            left: 10%;
            right: 10%;
            height: 3px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 3px;
            transition: all 0.3s ease;
        }
        
        .step.active::before {
            background: linear-gradient(90deg, #4CAF50, #8BC34A);
            height: 4px;
        }
        
        .step.completed {
            color: rgba(255, 255, 255, 0.9);
        }
        
        .step.completed::before {
            background: linear-gradient(90deg, #9E9E9E, #757575); /* ç°è‰² */
            height: 4px;
        }
        
        /* 6. å¤´éƒ¨æ ·å¼ */
        .header {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 0 10px 15px 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* 7. æ ‡é¢˜æ ·å¼ */
        h1 {
            font-size: 18px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* 8. å¤åˆ¶å…¨éƒ¨æŒ‰é’® */
        .copy-all-btn {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .copy-all-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 10px rgba(76, 175, 80, 0.3);
        }
        
        /* 9. ä»£ç å—å®¹å™¨ */
        .code-block {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 10px;
            margin: 0 10px 15px 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            position: relative;
            transition: all 0.3s ease;
            cursor: pointer;
        }
        
        .code-block:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }
        
        /* 10. å·²å®ŒæˆçŠ¶æ€é®ç½©å’ŒèƒŒæ™¯è‰² */
        .code-block.completed {
            background: rgba(189, 189, 189, 0.95); /* ç°è‰²èƒŒæ™¯ */
        }
        
        .code-block.completed::after {
            content: '';
            position: absolute;
            top: 50px; /* ä»æ ‡é¢˜æ ä¸‹æ–¹å¼€å§‹é®ç½© */
            left: 0;
            width: 100%;
            height: calc(100% - 50px); /* é®ç½©é«˜åº¦å‡å»æ ‡é¢˜æ é«˜åº¦ */
            background: rgba(0, 0, 0, 0.3);
            z-index: 1;
            pointer-events: none;
        }
        
        .code-block.completed .module-title {
            background: linear-gradient(135deg, #9E9E9E 0%, #757575 100%); /* ç°è‰²æ ‡é¢˜æ  */
        }
        
        .code-block.completed .module-title::after {
            content: 'âœ“ å·²å®Œæˆ';
            position: absolute;
            right: 80px; /* ç»™å¤åˆ¶æŒ‰é’®ç•™å‡ºç©ºé—´ */
            top: 50%;
            transform: translateY(-50%);
            color: white;
            font-weight: bold;
            font-size: 14px;
            z-index: 3;
        }
        
        /* 11. æ¨¡å—æ ‡é¢˜æ  */
        .module-title {
            background: linear-gradient(135deg, #4CAF50 0%, #45a049 100%);
            color: white;
            padding: 10px 15px;
            font-size: 14px;
            font-weight: 600;
            display: flex;
            justify-content: space-between;
            align-items: center;
            position: relative;
            z-index: 3; /* ç¡®ä¿æ ‡é¢˜æ åœ¨é®ç½©å±‚ä¹‹ä¸Š */
        }
        
        /* 12. æ¨¡å—å¤åˆ¶æŒ‰é’® */
        .module-copy-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 4px 8px;
            border-radius: 4px;
            cursor: pointer;
            font-size: 12px;
            transition: background 0.2s;
            position: relative;
            z-index: 4; /* ç¡®ä¿å¤åˆ¶æŒ‰é’®åœ¨æœ€ä¸Šå±‚ */
        }
        
        .module-copy-btn:hover {
            background: rgba(255, 255, 255, 0.3);
        }
        
        /* 13. ä»£ç åŒºåŸŸ */
        .module-code {
            padding: 0;
            position: relative;
            z-index: 2;
        }
        
        /* 14. ä»£ç é¢„æ ¼å¼åŒ– */
        pre {
            margin: 0;
            padding: 15px;
            overflow-x: auto;
            background: #2d2d2d;
        }
        
        /* 15. ä»£ç å­—ä½“æ ·å¼ */
        code {
            font-family: 'SF Mono', 'Consolas', 'Monaco', 'Courier New', monospace;
            font-size: 13px;
            line-height: 1.5;
        }
        
        /* 16. æç¤ºæ¡†æ ·å¼ */
        .toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(0, 0, 0, 0.8);
            color: white;
            padding: 12px 24px;
            border-radius: 6px;
            font-size: 14px;
            opacity: 0;
            transition: opacity 0.3s;
            pointer-events: none;
            z-index: 1000;
        }
        
        .toast.show {
            opacity: 1;
        }
        
        /* 17. ä¿¡æ¯åŒºåŸŸ */
        .info {
            background: rgba(255, 255, 255, 0.95);
            padding: 15px 20px;
            border-radius: 10px;
            margin: 0 10px 15px 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        
        /* 18. ä¿¡æ¯æ ‡é¢˜ */
        .info h2 {
            color: #333;
            font-size: 16px;
            margin-bottom: 10px;
        }
        
        /* 19. ä¿¡æ¯æ®µè½ */
        .info p {
            color: #666;
            font-size: 13px;
            line-height: 1.6;
            margin-bottom: 8px;
        }
        
        /* 20. å“åº”å¼è®¾è®¡ */
        @media (max-width: 768px) {
            body { padding: 5px; }
            h1 { font-size: 16px; }
            .copy-all-btn { padding: 6px 12px; font-size: 12px; }
            code { font-size: 12px; }
            .header, .code-block, .info {
                margin-left: 5px;
                margin-right: 5px;
            }
            .step {
                font-size: 10px;
                padding: 6px 3px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="steps-indicator">
            <div class="step active" data-step="0">åˆå§‹åŒ–</div>
            <div class="step" data-step="1">å‡†å¤‡ç›®å½•</div>
            <div class="step" data-step="2">å®‰è£…ä¾èµ–</div>
            <div class="step" data-step="3">ä¸‹è½½æºç </div>
            <div class="step" data-step="4">è§£å‹</div>
            <div class="step" data-step="5">é…ç½®</div>
            <div class="step" data-step="6">ç¼–è¯‘</div>
            <div class="step" data-step="7">å®‰è£…</div>
            <div class="step" data-step="8">éªŒè¯</div>
        </div>
        
        <div class="header">
            <h1>ğŸ”§ cflow ç¼–è¯‘å®‰è£…è„šæœ¬</h1>
            <button class="copy-all-btn" onclick="copyAll()">ğŸ“‹ å¤åˆ¶å…¨éƒ¨</button>
        </div>
        
        <div class="code-block" data-step="0" onclick="markCompleted(this)">
            <div class="module-title">
                <span>ğŸš€ åˆå§‹åŒ–</span>
                <button class="module-copy-btn" onclick="copyModule(event, 0)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-bash">#!/data/data/com.termux/files/usr/bin/bash
set -euo pipefail
RED='\033[0;31m'; GRN='\033[0;32m'; YLW='\033[0;33m'; RST='\033[0m'
log_info(){ echo -e "${YLW}[INFO]${RST} $*"; }
log_ok(){ echo -e "${GRN}[OK]${RST} $*"; }
log_err(){ echo -e "${RED}[ERR]${RST} $*"; }
PREFIX="/data/data/com.termux/files/usr"
WORK="$HOME/cflow-work"
TARBALL="$WORK/cflow-1.7.tar.gz"
SOURCE="$WORK/cflow-1.7"</code></pre>
            </div>
        </div>
        
        <div class="code-block" data-step="1" onclick="markCompleted(this)">
            <div class="module-title">
                <span>â‘  å‡†å¤‡å·¥ä½œç›®å½•</span>
                <button class="module-copy-btn" onclick="copyModule(event, 1)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-bash">log_info "â‘  åˆ›å»ºå·¥ä½œç›®å½•"
mkdir -p "$WORK"
cd "$WORK"</code></pre>
            </div>
        </div>
        
        <div class="code-block" data-step="2" onclick="markCompleted(this)">
            <div class="module-title">
                <span>â‘¡ å®‰è£…ä¾èµ–</span>
                <button class="module-copy-btn" onclick="copyModule(event, 2)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-bash">log_info "â‘¡ å®‰è£…ä¾èµ–"
for dep in clang make wget autoconf automake gettext binutils; do
    command -v "$dep" &>/dev/null || pkg install -y "$dep"
done
log_ok "ä¾èµ–å°±ç»ª"</code></pre>
            </div>
        </div>
        
        <div class="code-block" data-step="3" onclick="markCompleted(this)">
            <div class="module-title">
                <span>â‘¢ ä¸‹è½½æºç </span>
                <button class="module-copy-btn" onclick="copyModule(event, 3)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-bash">log_info "â‘¢ ä¸‹è½½æºç "
[[ -f $TARBALL ]] || wget -O "$TARBALL" https://ftp.gnu.org/gnu/cflow/cflow-1.7.tar.gz
log_ok "ä¸‹è½½å®Œæˆ"</code></pre>
            </div>
        </div>
        
        <div class="code-block" data-step="4" onclick="markCompleted(this)">
            <div class="module-title">
                <span>â‘£ è§£å‹</span>
                <button class="module-copy-btn" onclick="copyModule(event, 4)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-bash">log_info "â‘£ è§£å‹"
tar -xzf "$TARBALL"
cd "$SOURCE"
log_ok "æºç å·²è§£å‹åˆ° $SOURCE"</code></pre>
            </div>
        </div>
        
        <div class="code-block" data-step="5" onclick="markCompleted(this)">
            <div class="module-title">
                <span>â‘¤ é…ç½®</span>
                <button class="module-copy-btn" onclick="copyModule(event, 5)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-bash">log_info "â‘¤ é…ç½®"
./configure --prefix="$PREFIX"
log_ok "é…ç½®å®Œæˆ"</code></pre>
            </div>
        </div>
        
        <div class="code-block" data-step="6" onclick="markCompleted(this)">
            <div class="module-title">
                <span>â‘¥ ç¼–è¯‘</span>
                <button class="module-copy-btn" onclick="copyModule(event, 6)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-bash">log_info "â‘¥ ç¼–è¯‘"
make -j"$(nproc)"
log_ok "ç¼–è¯‘å®Œæˆ"</code></pre>
            </div>
        </div>
        
        <div class="code-block" data-step="7" onclick="markCompleted(this)">
            <div class="module-title">
                <span>â‘¦ å®‰è£…</span>
                <button class="module-copy-btn" onclick="copyModule(event, 7)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-bash">log_info "â‘¦ å®‰è£…"
make install
log_ok "å®‰è£…å®Œæˆ"</code></pre>
            </div>
        </div>
        
        <div class="code-block" data-step="8" onclick="markCompleted(this)">
            <div class="module-title">
                <span>â‘§ éªŒè¯</span>
                <button class="module-copy-btn" onclick="copyModule(event, 8)">å¤åˆ¶</button>
            </div>
            <div class="module-code">
                <pre><code class="language-bash">log_info "â‘§ éªŒè¯"
cflow --version
log_ok "å…¨éƒ¨å®Œæˆï¼ç”¨æ³•ï¼šcflow <æºæ–‡ä»¶>"</code></pre>
            </div>
        </div>
        
        <div class="info">
            <h2>ğŸ“‹ è¯´æ˜</h2>
            <p>æ­¤è„šæœ¬ç”¨äºåœ¨ Termux ç¯å¢ƒä¸­ç¼–è¯‘å®‰è£… GNU cflow å·¥å…·ï¼Œcflow æ˜¯ä¸€ä¸ªç”¨äºç”Ÿæˆ C è¯­è¨€æ§åˆ¶æµå›¾çš„å·¥å…·ã€‚</p>
            <p>è„šæœ¬æ‰§è¡Œæµç¨‹ï¼šåˆ›å»ºå·¥ä½œç›®å½• â†’ å®‰è£…ä¾èµ– â†’ ä¸‹è½½æºç  â†’ è§£å‹ â†’ é…ç½® â†’ ç¼–è¯‘ â†’ å®‰è£… â†’ éªŒè¯</p>
            <p>ä½¿ç”¨æ–¹æ³•ï¼šå°†è„šæœ¬ä¿å­˜ä¸º install_cflow.shï¼Œç„¶åæ‰§è¡Œ <code>bash install_cflow.sh</code></p>
            <p>ç‚¹å‡»ä»£ç å—å¯æ ‡è®°ä¸ºå·²å®Œæˆï¼Œæ­¥éª¤æŒ‡ç¤ºå™¨ä¼šç›¸åº”æ›´æ–°ã€‚</p>
        </div>
    </div>
    
    <div class="toast" id="toast">âœ… å·²å¤åˆ¶</div>
    
    <script>
        // 1. DOMå†…å®¹åŠ è½½å®Œæˆäº‹ä»¶
        document.addEventListener('DOMContentLoaded', function() {
            Prism.highlightAll();
        });
        
        // 2. å¤åˆ¶å•ä¸ªæ¨¡å—ä»£ç 
        function copyModule(event, index) {
            event.stopPropagation();
            const modules = document.querySelectorAll('.module-code code');
            const moduleCode = modules[index].textContent;
            
            navigator.clipboard.writeText(moduleCode).then(() => {
                showToast();
            });
        }
        
        // 3. å¤åˆ¶å…¨éƒ¨ä»£ç 
        function copyAll() {
            const allCode = Array.from(document.querySelectorAll('.module-code code'))
                .map(code => code.textContent)
                .join('\n');
            navigator.clipboard.writeText(allCode).then(() => {
                showToast();
            });
        }
        
        // 4. æ˜¾ç¤ºæç¤ºæ¡†
        function showToast() {
            const toast = document.getElementById('toast');
            toast.classList.add('show');
            setTimeout(() => {
                toast.classList.remove('show');
            }, 1500);
        }
        
        // 5. æ ‡è®°ä»£ç å—ä¸ºå·²å®Œæˆ
        function markCompleted(element) {
            const step = element.getAttribute('data-step');
            const stepIndicator = document.querySelector(`.steps-indicator .step[data-step="${step}"]`);
            
            if (element.classList.contains('completed')) {
                element.classList.remove('completed');
                stepIndicator.classList.remove('completed');
            } else {
                element.classList.add('completed');
                stepIndicator.classList.add('completed');
            }
            
            updateActiveStep();
        }
        
        // 6. æ›´æ–°æ´»åŠ¨æ­¥éª¤æŒ‡ç¤ºå™¨
        function updateActiveStep() {
            const steps = document.querySelectorAll('.step');
            const codeBlocks = document.querySelectorAll('.code-block');
            
            let foundActive = false;
            for (let i = 0; i < steps.length; i++) {
                if (!codeBlocks[i].classList.contains('completed')) {
                    steps[i].classList.add('active');
                    foundActive = true;
                } else {
                    steps[i].classList.remove('active');
                }
            }
            
            if (!foundActive) {
                steps[steps.length - 1].classList.add('active');
            }
        }
        
        // 7. æ­¥éª¤æŒ‡ç¤ºå™¨ç‚¹å‡»äº‹ä»¶
        document.querySelectorAll('.step').forEach(step => {
            step.addEventListener('click', function() {
                const stepIndex = this.getAttribute('data-step');
                const codeBlock = document.querySelector(`.code-block[data-step="${stepIndex}"]`);
                if (codeBlock) {
                    markCompleted(codeBlock);
                }
            });
        });
    </script>
</body>
</html>
