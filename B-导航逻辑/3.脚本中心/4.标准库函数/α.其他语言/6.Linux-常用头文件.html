<!DOCTYPE html> 
<html lang="zh-CN"> 
<head> 
<meta charset="UTF-8"> 
<meta name="viewport" content="width=device-width, initial-scale=1.0"> 
<title>Linux5.15 å¸¸ç”¨å¤´æ–‡ä»¶</title> 
<style> 
:root { 
--primary-color: #ff6b35; 
--secondary-color: #f7931e; 
--accent-color: #ff8c42; 
--text-color: #2c3e50; 
--text-secondary: #7f8c8d; 
--bg-color: #fff5f0; 
--border-color: #ffe4d6; 
--hover-bg: #ffe0cc; 
--code-bg: #ffffff; 
--tree-line: #ffb380; 
} 

* { 
margin: 0; 
padding: 0; 
box-sizing: border-box; 
} 

body { 
font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace; 
font-size: 13px; 
line-height: 1.5; 
color: var(--text-color); 
background: linear-gradient(135deg, #fff5f0 0%, #ffe4d6 50%, #ffd4b3 100%); 
overflow: hidden; 
height: 100vh; 
width: 100vw; 
display: flex; 
flex-direction: column; 
} 

.container { 
flex: 1; 
display: flex; 
flex-direction: column; 
background-color: rgba(255, 255, 255, 0.95); 
overflow: hidden; 
box-shadow: 0 4px 20px rgba(255, 107, 53, 0.1); 
margin: 8px; 
border-radius: 8px; 
border: 1px solid rgba(255, 228, 214, 0.3); 
} 

header { 
background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); 
color: #fff; 
padding: 12px 16px; 
text-align: left; 
border-bottom: 1px solid rgba(255, 255, 255, 0.2); 
flex-shrink: 0; 
display: flex; 
align-items: center; 
justify-content: space-between; 
} 

.header-content h1 { 
font-size: 18px; 
font-weight: 600; 
margin-bottom: 4px; 
} 

.header-content p { 
opacity: 0.9; 
font-size: 12px; 
} 

.header-search { 
position: relative; 
} 

#searchInput { 
padding: 6px 10px; 
border: 1px solid var(--border-color); 
border-radius: 6px; 
background-color: rgba(255, 245, 240, 0.8); 
color: var(--text-color); 
font-size: 12px; 
font-family: inherit; 
width: 180px; 
transition: all 0.3s; 
} 

#searchInput:focus { 
outline: none; 
border-color: var(--accent-color); 
background: rgba(255, 255, 255, 0.95); 
box-shadow: 0 0 0 2px rgba(255, 140, 66, 0.2); 
} 

.controls { 
padding: 10px 16px; 
background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%); 
border-bottom: 1px solid var(--border-color); 
display: flex; 
justify-content: space-between; 
align-items: center; 
flex-wrap: wrap; 
gap: 8px; 
flex-shrink: 0; 
} 

.controls button { 
background: linear-gradient(135deg, var(--accent-color), var(--secondary-color)); 
color: white; 
border: none; 
padding: 6px 12px; 
border-radius: 6px; 
cursor: pointer; 
transition: all 0.3s; 
font-size: 12px; 
font-family: inherit; 
font-weight: 500; 
box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); 
} 

.controls button:hover { 
background: linear-gradient(135deg, var(--secondary-color), var(--primary-color)); 
transform: translateY(-1px); 
box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15); 
} 

.tree-container { 
flex: 1; 
padding: 12px; 
overflow: auto; 
background: linear-gradient(180deg, rgba(255, 245, 240, 0.4) 0%, rgba(255, 245, 240, 0.2) 100%); 
} 

.tree ul { 
list-style-type: none; 
padding-left: 16px; 
margin: 0; 
} 

.tree li { 
position: relative; 
padding: 1px 0; 
white-space: nowrap; 
} 

.tree li::before { 
content: ""; 
position: absolute; 
left: -10px; 
top: 8px; 
width: 10px; 
height: 1px; 
background-color: var(--tree-line); 
} 

.tree li::after { 
content: ""; 
position: absolute; 
left: -10px; 
top: -2px; 
width: 1px; 
height: 100%; 
background-color: var(--tree-line); 
} 

.tree li:last-child::after { 
height: 10px; 
} 

.tree > ul > li::before, .tree > ul > li::after { 
display: none; 
} 

.tree-node { 
display: flex; 
align-items: center; 
cursor: pointer; 
padding: 2px 4px; 
border-radius: 4px; 
transition: all 0.2s; 
} 

.tree-node:hover { 
background: linear-gradient(135deg, rgba(255, 107, 53, 0.08) 0%, rgba(247, 147, 30, 0.05) 100%); 
transform: translateX(2px); 
} 

.tree-node .toggle { 
color: #94a3b8; 
margin-right: 3px; 
font-size: 9px; 
transition: transform 0.2s; 
} 

.tree-node .icon { 
margin-right: 6px; 
font-size: 12px; 
} 

.tree-node .folder { 
color: var(--primary-color); 
} 

.tree-node .file { 
color: var(--text-secondary); 
} 

.tree-content { 
flex: 1; 
display: flex; 
align-items: center; 
min-width: 0; 
} 

.tree-name { 
font-weight: 500; 
font-size: 13px; 
overflow: hidden; 
text-overflow: ellipsis; 
color: var(--text-color); 
white-space: nowrap; 
flex-shrink: 0; 
} 

.tree-desc { 
font-style: normal !important; 
white-space: nowrap !important; 
overflow: hidden !important; 
text-overflow: ellipsis !important; 
display: inline-block !important; 
line-height: 1.4 !important; 
margin-left: 8px !important; 
font-size: 11px !important; 
color: var(--text-secondary) !important; 
background: rgba(255, 107, 53, 0.06) !important; 
padding: 1px 4px !important; 
border-radius: 3px !important; 
border: 1px solid rgba(255, 107, 53, 0.1) !important; 
transition: all 0.2s !important; 
max-width: 300px; 
} 

.tree-node:hover .tree-desc { 
background: rgba(255, 107, 53, 0.1) !important; 
border-color: rgba(255, 107, 53, 0.2) !important; 
} 

.collapsed > ul { 
display: none; 
} 

.highlight { 
background: linear-gradient(135deg, var(--accent-color), var(--secondary-color)); 
padding: 0 3px; 
border-radius: 3px; 
color: #fff; 
font-weight: 500; 
} 

.file-number { 
color: var(--accent-color); 
font-weight: 600; 
margin-right: 8px; 
min-width: 20px; 
text-align: right; 
} 

footer { 
background: linear-gradient(135deg, var(--primary-color), var(--secondary-color)); 
color: white; 
padding: 8px 16px; 
text-align: center; 
font-size: 10px; 
border-top: 1px solid rgba(255, 255, 255, 0.2); 
flex-shrink: 0; 
} 

@media (max-width: 768px) { 
body { font-size: 12px; } 
.container { margin: 4px; } 
header h1 { font-size: 16px; } 
header p { font-size: 11px; } 
.tree ul { padding-left: 14px; } 
.tree-name { font-size: 12px; } 
.tree-desc { font-size: 10px; max-width: 200px; } 
#searchInput { width: 140px; font-size: 11px; } 
.controls button { font-size: 11px; padding: 5px 10px; } 
} 

@media (max-width: 480px) { 
body { font-size: 11px; } 
.container { margin: 2px; } 
header h1 { font-size: 14px; } 
header p { font-size: 10px; } 
.tree ul { padding-left: 12px; } 
.tree-node { padding: 1px 3px; } 
.tree-name { font-size: 11px; } 
.tree-desc { font-size: 9px; max-width: 150px; } 
#searchInput { width: 120px; font-size: 10px; } 
.controls button { font-size: 10px; padding: 4px 8px; } 
} 
</style> 
</head> 
<body> 
<div class="container"> 
<header> 
<div class="header-content"> 
<h1>Linux5.15 å¸¸ç”¨å¤´æ–‡ä»¶</h1> 
<p>Linux Common Headers Reference Manual (2025-12-21)</p> 
</div> 
<div class="header-search"> 
<input type="text" id="searchInput" placeholder=" æœç´¢å¤´æ–‡ä»¶..."> 
</div> 
</header> 
<div class="controls"> 
<div class="action-buttons"> 
<button id="expandAll">å±•å¼€å…¨éƒ¨</button> 
<button id="collapseAll">æŠ˜å å…¨éƒ¨</button> 
</div> 
</div> 
<div class="tree-container"> 
<div class="tree" id="treeContainer"></div> 
</div> 
<footer> 
<p>Â© 2025 Linux å¸¸ç”¨å¤´æ–‡ä»¶| Generated by å‡‰å®‰</p> 
</footer> 
</div> 

<!-- æ•°æ®éƒ¨åˆ†--> 
<script> 
const kernelHeadersData = [ 
{ 
name: "ä¸€ã€æ ¸å¿ƒåŸºç¡€", 
type: "folder", 
children: [ 
{ name: "linux/kernel.h", desc: "å†…æ ¸æ ¸å¿ƒå¤´æ–‡ä»¶ï¼ˆåŒ…å«å¸¸ç”¨å®å’Œå‡½æ•°ï¼‰", type: "file" }, 
{ name: "linux/types.h", desc: "åŸºæœ¬æ•°æ®ç±»å‹ï¼ˆå¦‚u8, u32, list_head ç­‰ï¼‰", type: "file" }, 
{ name: "linux/errno.h", desc: "é”™è¯¯ç å®šä¹‰", type: "file" }, 
{ name: "linux/printk.h", desc: "å†…æ ¸æ‰“å°å‡½æ•°", type: "file" }, 
{ name: "linux/list.h", desc: "å†…æ ¸é“¾è¡¨å®ç°", type: "file" }, 
{ name: "linux/bitmap.h", desc: "ä½å›¾æ“ä½œ", type: "file" }, 
{ name: "linux/bug.h", desc: "å†…æ ¸è°ƒè¯•ä¸æ–­è¨€ï¼ˆå¦‚BUG_ON, WARN_ONï¼‰", type: "file" }, 
{ name: "linux/limits.h", desc: "å¸¸é‡é™åˆ¶å®šä¹‰ï¼ˆå¦‚PATH_MAXï¼‰", type: "file" } 
] 
}, 
{ 
name: "äºŒã€å†…å­˜ç®¡ç†", 
type: "folder", 
children: [ 
{ name: "linux/mm.h", desc: "å†…å­˜ç®¡ç†æ ¸å¿ƒç»“æ„ä¸å‡½æ•°", type: "file" }, 
{ name: "linux/slab.h", desc: "Slab/Slub å†…å­˜åˆ†é…å™¨", type: "file" }, 
{ name: "linux/gfp.h", desc: "å†…å­˜åˆ†é…æ ‡å¿—ï¼ˆå¦‚GFP_KERNELï¼‰", type: "file" }, 
{ name: "linux/vmalloc.h", desc: "è™šæ‹Ÿå†…å­˜è¿ç»­åˆ†é…æ¥å£", type: "file" } 
] 
}, 
{ 
name: "ä¸‰ã€åŒæ­¥ä¸å¹¶å‘", 
type: "folder", 
children: [ 
{ name: "linux/spinlock.h", desc: "è‡ªæ—‹é”", type: "file" }, 
{ name: "linux/mutex.h", desc: "äº’æ–¥é”", type: "file" }, 
{ name: "linux/atomic.h", desc: "åŸå­æ“ä½œ", type: "file" }, 
{ name: "linux/completion.h", desc: "å®Œæˆé‡åŒæ­¥æœºåˆ¶", type: "file" }, 
{ name: "linux/rwsem.h", desc: "è¯»å†™ä¿¡å·é‡", type: "file" }, 
{ name: "linux/rcupdate.h", desc: "è¯»-æ‹·è´-æ›´æ–°æœºåˆ¶ï¼ˆRCUï¼‰", type: "file" } 
] 
}, 
{ 
name: "å››ã€è¿›ç¨‹ä¸è°ƒåº¦", 
type: "folder", 
children: [ 
{ name: "linux/sched.h", desc: "è¿›ç¨‹è°ƒåº¦æ ¸å¿ƒï¼ˆåŒ…å«task_structï¼‰", type: "file" }, 
{ name: "linux/kthread.h", desc: "å†…æ ¸çº¿ç¨‹åˆ›å»ºä¸ç®¡ç†", type: "file" }, 
{ name: "linux/workqueue.h", desc: "å·¥ä½œé˜Ÿåˆ—ï¼ˆç”¨äºå»¶è¿Ÿæ‰§è¡Œä»»åŠ¡ï¼‰", type: "file" }, 
{ name: "linux/jiffies.h", desc: "å…¨å±€èŠ‚æ‹è®¡æ•°å™¨ï¼ˆå†…æ ¸æ—¶é—´åŸºå‡†ï¼‰", type: "file" } 
] 
}, 
{ 
name: "äº”ã€è®¾å¤‡é©±åŠ¨æ¨¡å‹", 
type: "folder", 
children: [ 
{ name: "linux/device.h", desc: "è®¾å¤‡æ¨¡å‹æ ¸å¿ƒï¼ˆdevice, driverç»“æ„ä½“ï¼‰", type: "file" }, 
{ name: "linux/platform_device.h", desc: "å¹³å°è®¾å¤‡æ¡†æ¶", type: "file" }, 
{ name: "linux/of.h", desc: "è®¾å¤‡æ ‘æ ¸å¿ƒæ¥å£", type: "file" }, 
{ name: "linux/of_gpio.h", desc: "è®¾å¤‡æ ‘GPIO æ“ä½œ", type: "file" }, 
{ name: "linux/gpio.h", desc: "GPIO é€šç”¨è¾“å…¥è¾“å‡ºå­ç³»ç»Ÿ", type: "file" }, 
{ name: "linux/pci.h", desc: "PCI è®¾å¤‡æ¥å£", type: "file" }, 
{ name: "linux/interrupt.h", desc: "ä¸­æ–­å¤„ç†æ¡†æ¶", type: "file" }, 
{ name: "linux/module.h", desc: "å†…æ ¸æ¨¡å—åŠ è½½/å¸è½½æ¡†æ¶", type: "file" }, 
{ name: "linux/init.h", desc: "æ¨¡å—åˆå§‹åŒ–ä¸é€€å‡ºå®ï¼ˆå¦‚module_initï¼‰", type: "file" }, 
{ name: "linux/pm.h", desc: "ç”µæºç®¡ç†æ¡†æ¶", type: "file" }, 
{ name: "linux/clk.h", desc: "æ—¶é’Ÿå­ç³»ç»Ÿ", type: "file" }, 
{ name: "linux/reset.h", desc: "å¤ä½æ§åˆ¶å™¨", type: "file" }, 
{ name: "linux/regulator/consumer.h", desc: "ç”µå‹è°ƒèŠ‚å™¨æ¶ˆè´¹è€…æ¥å£", type: "file" } 
] 
}, 
{ 
name: "å…­ã€æ–‡ä»¶ç³»ç»Ÿä¸VFS", 
type: "folder", 
children: [ 
{ name: "linux/fs.h", desc: "è™šæ‹Ÿæ–‡ä»¶ç³»ç»Ÿï¼ˆVFSï¼‰æ ¸å¿ƒå®šä¹‰", type: "file" }, 
{ name: "linux/file.h", desc: "æ–‡ä»¶ç»“æ„ä½“ä¸æ“ä½œ", type: "file" }, 
{ name: "linux/proc_fs.h", desc: "Proc æ–‡ä»¶ç³»ç»Ÿæ¥å£", type: "file" }, 
{ name: "linux/seq_file.h", desc: "é¡ºåºæ–‡ä»¶æ¥å£ï¼ˆç”¨äºProc/Debugfsï¼‰", type: "file" }, 
{ name: "linux/debugfs.h", desc: "Debugfs è°ƒè¯•æ–‡ä»¶ç³»ç»Ÿæ¥å£", type: "file" }, 
{ name: "linux/sysfs.h", desc: "Sysfs æ–‡ä»¶ç³»ç»Ÿæ¥å£", type: "file" }, 
{ name: "linux/uaccess.h", desc: "ç”¨æˆ·ç©ºé—´å†…å­˜è®¿é—®ï¼ˆå¦‚copy_to_userï¼‰", type: "file" } 
] 
}, 
{ 
name: "ä¸ƒã€æ—¶é—´ä¸å®šæ—¶å™¨", 
type: "folder", 
children: [ 
{ name: "linux/timer.h", desc: "å†…æ ¸å®šæ—¶å™¨ï¼ˆæ—§ç‰ˆï¼Œä½ç²¾åº¦ï¼‰", type: "file" }, 
{ name: "linux/hrtimer.h", desc: "é«˜ç²¾åº¦å®šæ—¶å™¨", type: "file" }, 
{ name: "linux/time.h", desc: "æ—¶é—´ç›¸å…³ç»“æ„ä¸å‡½æ•°ï¼ˆå¦‚timespec, ktime_getï¼‰", type: "file" } 
] 
}, 
{ 
name: "å…«ã€ç¡¬ä»¶æ¥å£", 
type: "folder", 
children: [ 
{ name: "linux/io.h", desc: "I/O ç«¯å£è®¿é—®ï¼ˆå¦‚inb, outbï¼‰", type: "file" }, 
{ name: "linux/ioport.h", desc: "I/O ç«¯å£ä¸å†…å­˜åŒºåŸŸç”³è¯·", type: "file" }, 
{ name: "linux/dma-mapping.h", desc: "DMA å†…å­˜æ˜ å°„é€šç”¨æ¥å£", type: "file" } 
] 
}, 
{ 
name: "ä¹ã€ç½‘ç»œ", 
type: "folder", 
children: [ 
{ name: "linux/netdevice.h", desc: "ç½‘ç»œè®¾å¤‡æ¥å£", type: "file" }, 
{ name: "linux/skbuff.h", desc: "ç½‘ç»œå¥—æ¥å­—ç¼“å†²åŒºï¼ˆsk_buffï¼‰", type: "file" } 
] 
}, 
{ 
name: "åã€å—è®¾å¤‡", 
type: "folder", 
children: [ 
{ name: "linux/blkdev.h", desc: "å—è®¾å¤‡æ ¸å¿ƒæ¥å£", type: "file" }, 
{ name: "linux/genhd.h", desc: "é€šç”¨ç¡¬ç›˜ç®¡ç†", type: "file" }, 
{ name: "linux/bio.h", desc: "å—I/O å±‚æè¿°ç¬¦", type: "file" } 
] 
}, 
{ 
name: "åä¸€ã€æ‚é¡¹è®¾å¤‡ä¸å­—ç¬¦è®¾å¤‡", 
type: "folder", 
children: [ 
{ name: "linux/miscdevice.h", desc: "æ‚é¡¹è®¾å¤‡æ¡†æ¶ï¼ˆç®€åŒ–å­—ç¬¦è®¾å¤‡æ³¨å†Œï¼‰", type: "file" }, 
{ name: "linux/cdev.h", desc: "å­—ç¬¦è®¾å¤‡æ ¸å¿ƒç»“æ„ä½“", type: "file" }, 
{ name: "linux/input.h", desc: "è¾“å…¥å­ç³»ç»Ÿæ ¸å¿ƒ", type: "file" } 
] 
}, 
{ 
name: "åäºŒã€å…¶ä»–å¸¸ç”¨å·¥å…·", 
type: "folder", 
children: [ 
{ name: "linux/delay.h", desc: "å»¶è¿Ÿå‡½æ•°ï¼ˆå¦‚mdelay, udelayï¼‰", type: "file" }, 
{ name: "linux/scatterlist.h", desc: "æ•£åˆ—è¡¨ï¼ˆç”¨äºDMAï¼‰", type: "file" }, 
{ name: "linux/idr.h", desc: "ID æ˜ å°„æœºåˆ¶", type: "file" }, 
{ name: "linux/kfifo.h", desc: "å†…æ ¸FIFO ç¯å½¢é˜Ÿåˆ—", type: "file" }, 
{ name: "linux/string.h", desc: "å­—ç¬¦ä¸²æ“ä½œå‡½æ•°", type: "file" }, 
{ name: "linux/crc32.h", desc: "CRC32 æ ¡éªŒå’Œè®¡ç®—", type: "file" } 
] 
} 
]; 
</script> 

<!-- å›¾æ ‡éƒ¨åˆ†--> 
<script> 
const icons = { 
folder: 'ğŸ“', 
file: 'ğŸ“„', 
toggle: { 
expanded: 'â–¼', 
collapsed: 'â–¶' 
} 
}; 
</script> 

<!-- é€»è¾‘éƒ¨åˆ†--> 
<script> 
let fileCounter = 1; 

// åˆ›å»ºæ ‘èŠ‚ç‚¹ 
function createTreeNode(data) { 
const li = document.createElement('li'); 
const nodeDiv = document.createElement('div'); 
nodeDiv.className = 'tree-node'; 

// æŠ˜å å›¾æ ‡ï¼ˆä»…æ–‡ä»¶å¤¹ï¼‰ 
if (data.type === 'folder') { 
const toggleIcon = document.createElement('span'); 
toggleIcon.className = 'toggle'; 
toggleIcon.textContent = icons.toggle.collapsed; 
nodeDiv.appendChild(toggleIcon); 
} 

// æ–‡ä»¶å¤¹/æ–‡ä»¶å›¾æ ‡ 
const icon = document.createElement('span'); 
icon.className = 'icon'; 
icon.textContent = data.type === 'folder' ? icons.folder : icons.file; 
icon.classList.add(data.type); 
nodeDiv.appendChild(icon); 

// å†…å®¹åŒºåŸŸ 
const contentDiv = document.createElement('div'); 
contentDiv.className = 'tree-content'; 

const nameSpan = document.createElement('span'); 
nameSpan.className = 'tree-name'; 

// å¦‚æœæ˜¯æ–‡ä»¶ï¼Œæ·»åŠ åºå· 
if (data.type === 'file') { 
const numberSpan = document.createElement('span'); 
numberSpan.className = 'file-number'; 
numberSpan.textContent = fileCounter + '.'; 
nameSpan.appendChild(numberSpan); 
fileCounter++; 
} 

const nameText = document.createElement('span'); 
nameText.textContent = data.name; 
nameSpan.appendChild(nameText); 
contentDiv.appendChild(nameSpan); 

if (data.desc) { 
const descSpan = document.createElement('span'); 
descSpan.className = 'tree-desc'; 
descSpan.textContent = data.desc; 
contentDiv.appendChild(descSpan); 
} 

nodeDiv.appendChild(contentDiv); 
li.appendChild(nodeDiv); 

// é€’å½’åˆ›å»ºå­èŠ‚ç‚¹ 
if (data.children && data.children.length > 0) { 
const ul = document.createElement('ul'); 
data.children.forEach(child => { 
ul.appendChild(createTreeNode(child)); 
}); 
li.appendChild(ul); 
} 

return li; 
} 

// åˆå§‹åŒ–æ ‘ 
function initTree() { 
fileCounter = 1; // é‡ç½®è®¡æ•°å™¨ 
const treeContainer = document.getElementById('treeContainer'); 
treeContainer.innerHTML = ''; 

const ul = document.createElement('ul'); 
kernelHeadersData.forEach(item => { 
ul.appendChild(createTreeNode(item)); 
}); 
treeContainer.appendChild(ul); 

// æ‰€æœ‰æ–‡ä»¶å¤¹é»˜è®¤æŠ˜å  
document.querySelectorAll('.tree li:has(> ul)').forEach(li => { 
li.classList.add('collapsed'); 
const toggle = li.querySelector('.toggle'); 
if (toggle) { 
toggle.textContent = icons.toggle.collapsed; 
} 
}); 
} 

// å±•å¼€å…¨éƒ¨ 
function expandAll() { 
document.querySelectorAll('.tree li.collapsed').forEach(li => { 
li.classList.remove('collapsed'); 
const toggle = li.querySelector('.toggle'); 
if (toggle) { 
toggle.textContent = icons.toggle.expanded; 
} 
}); 
} 

// æŠ˜å å…¨éƒ¨ 
function collapseAll() { 
document.querySelectorAll('.tree li:has(.icon.folder)').forEach(li => { 
li.classList.add('collapsed'); 
const toggle = li.querySelector('.toggle'); 
if (toggle) { 
toggle.textContent = icons.toggle.collapsed; 
} 
}); 
} 

// æœç´¢åŠŸèƒ½ 
function searchTree(term) { 
// æ¸…é™¤ä¹‹å‰çš„é«˜äº® 
document.querySelectorAll('.highlight').forEach(el => { 
el.classList.remove('highlight'); 
}); 

if (term === '') return; 

// æœç´¢å¹¶é«˜äº®åŒ¹é…é¡¹ 
document.querySelectorAll('.tree-node').forEach(node => { 
const text = node.textContent.toLowerCase(); 
if (text.includes(term)) { 
node.querySelector('.tree-name').classList.add('highlight'); 

// å±•å¼€çˆ¶èŠ‚ç‚¹ 
let parent = node.closest('li'); 
while (parent && !parent.classList.contains('tree')) { 
parent.classList.remove('collapsed'); 
const toggle = parent.querySelector('.toggle'); 
if (toggle) { 
toggle.textContent = icons.toggle.expanded; 
} 
parent = parent.parentElement.closest('li'); 
} 
} 
}); 
} 

// åˆå§‹åŒ– 
document.addEventListener('DOMContentLoaded', function() { 
initTree(); 

// å±•å¼€å…¨éƒ¨æŒ‰é’® 
document.getElementById('expandAll').addEventListener('click', expandAll); 

// æŠ˜å å…¨éƒ¨æŒ‰é’® 
document.getElementById('collapseAll').addEventListener('click', collapseAll); 

// æœç´¢åŠŸèƒ½ 
document.getElementById('searchInput').addEventListener('input', function(e) { 
searchTree(e.target.value.toLowerCase()); 
}); 

// æŠ˜å /å±•å¼€åŠŸèƒ½ 
document.getElementById('treeContainer').addEventListener('click', function(e) { 
const treeNode = e.target.closest('.tree-node'); 
if (!treeNode) return; 

const folder = treeNode.querySelector('.icon.folder'); 
if (!folder) return; 

const li = treeNode.parentElement; 
li.classList.toggle('collapsed'); 

// æ›´æ–°å›¾æ ‡ 
const toggle = treeNode.querySelector('.toggle'); 
if (toggle) { 
toggle.textContent = li.classList.contains('collapsed') 
? icons.toggle.collapsed : icons.toggle.expanded; 
} 
}); 
}); 
</script> 
</body> 
</html>
