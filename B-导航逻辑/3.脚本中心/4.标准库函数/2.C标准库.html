<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>C æ ‡å‡†åº“å‚è€ƒæ‰‹å†Œ</title>
    <script src="A.æ’ä»¶_å­—ä½“ç¼©æ”¾.js"></script>
<style>
:root {
    --primary-color: #10b981;
    --secondary-color: #06b6d4;
    --accent-color: #8b5cf6;
    --text-color: #1e293b;
    --text-secondary: #64748b;
    --bg-color: #f0fdf4;
    --border-color: #d1fae5;
    --hover-bg: #dcfce7;
    --code-bg: #ffffff;
    --tree-line: #86efac;
    --view-button-bg: #d1fae5;
    --view-button-hover: #a7f3d0;
    --view-button-active: #059669;
    --view-button-text: #064e3b;
}

* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'SF Mono', 'Monaco', 'Inconsolata', 'Roboto Mono', monospace;
    font-size: 13px;
    line-height: 1.5;
    color: var(--text-color);
    background: linear-gradient(135deg, #f0fdf4 0%, #dcfce7 50%, #d1fae5 100%);
    overflow: hidden;
    height: 100vh;
    width: 100vw;
    display: flex;
    flex-direction: column;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    text-rendering: optimizeLegibility;
}

.container {
    flex: 1;
    display: flex;
    flex-direction: column;
    background-color: rgba(255, 255, 255, 0.95);
    overflow: hidden;
    box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
    margin: 8px;
    border-radius: 8px;
    border: 1px solid rgba(209, 250, 229, 0.3);
}

header {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: #fff;
    padding: 12px 16px;
    text-align: left;
    border-bottom: 1px solid rgba(255, 255, 255, 0.2);
    flex-shrink: 0;
    position: relative;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: space-between;
}

header::after {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
    animation: shimmer 3s infinite;
}

@keyframes shimmer {
    0% { left: -100%; }
    100% { left: 100%; }
}

.header-content {
    display: flex;
    flex-direction: column;
    justify-content: center;
    flex: 1;
}

header h1 {
    font-size: 18px;
    font-weight: 600;
    margin-bottom: 4px;
    position: relative;
}

header p {
    opacity: 0.9;
    font-size: 12px;
    position: relative;
}

.header-search {
    position: relative;
    z-index: 10;
}

#searchInput {
    padding: 6px 10px;
    border: 1px solid var(--border-color);
    border-radius: 6px;
    background-color: rgba(240, 253, 244, 0.8);
    color: var(--text-color);
    font-size: 12px;
    font-family: inherit;
    width: 180px;
    transition: all 0.3s;
}

#searchInput:focus {
    outline: none;
    border-color: var(--accent-color);
    background: rgba(255, 255, 255, 0.95);
    box-shadow: 0 0 0 2px rgba(139, 92, 246, 0.2);
}

.controls {
    padding: 10px 16px;
    background: linear-gradient(180deg, #ffffff 0%, #f8fafc 100%);
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
    flex-wrap: wrap;
    gap: 8px;
    flex-shrink: 0;
}

.action-buttons {
    display: flex;
    gap: 8px;
}

.controls button {
    background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
    color: white;
    border: none;
    padding: 6px 12px;
    border-radius: 6px;
    cursor: pointer;
    transition: all 0.3s;
    font-size: 12px;
    font-family: inherit;
    font-weight: 500;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
}

.controls button:hover {
    background: linear-gradient(135deg, var(--secondary-color), var(--primary-color));
    transform: translateY(-1px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.15);
}

.tree-container {
    flex: 1;
    padding: 12px;
    overflow: auto;
    background: linear-gradient(180deg, rgba(240, 253, 244, 0.4) 0%, rgba(240, 253, 244, 0.2) 100%);
}

.tree-container::-webkit-scrollbar {
    width: 6px;
}

.tree-container::-webkit-scrollbar-thumb {
    background: var(--accent-color);
    border-radius: 3px;
}

.tree ul {
    list-style-type: none;
    padding-left: 16px;
    margin: 0;
}

.tree li {
    position: relative;
    padding: 1px 0;
    white-space: nowrap;
}

.tree li::before {
    content: "";
    position: absolute;
    left: -10px;
    top: 8px;
    width: 10px;
    height: 1px;
    background-color: var(--tree-line);
}

.tree li::after {
    content: "";
    position: absolute;
    left: -10px;
    top: -2px;
    width: 1px;
    height: 100%;
    background-color: var(--tree-line);
}

.tree li:last-child::after {
    height: 10px;
}

.tree > ul > li::before, .tree > ul > li::after {
    display: none;
}

.tree-node {
    display: flex;
    align-items: center;
    cursor: pointer;
    padding: 2px 4px;
    border-radius: 4px;
    transition: all 0.2s;
}

.tree-node:hover {
    background: linear-gradient(135deg, rgba(16, 185, 129, 0.08) 0%, rgba(6, 182, 212, 0.05) 100%);
    transform: translateX(2px);
}

.tree-node .toggle {
    color: #94a3b8;
    margin-right: 3px;
    font-size: 9px;
    transition: transform 0.2s;
}

.tree-node .icon {
    margin-right: 6px;
    font-size: 12px;
}

.tree-node .folder {
    color: var(--primary-color);
}

.tree-node .file {
    color: var(--text-secondary);
}

.tree-content {
    flex: 1;
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    min-width: 0;
}

.tree-name {
    font-weight: 500;
    font-size: 13px;
    overflow: hidden;
    text-overflow: ellipsis;
    color: var(--text-color);
}

.tree-desc {
    font-style: normal !important;
    white-space: normal !important;
    max-width: none !important;
    overflow: visible !important;
    text-overflow: unset !important;
    display: inline-block !important;
    line-height: 1.4 !important;
    margin-top: 2px !important;
    font-size: 11px !important;
    color: var(--text-secondary) !important;
    background: rgba(16, 185, 129, 0.06) !important;
    padding: 1px 4px !important;
    border-radius: 3px !important;
    border: 1px solid rgba(16, 185, 129, 0.1) !important;
    transition: all 0.2s !important;
}

.tree-node:hover .tree-desc {
    background: rgba(16, 185, 129, 0.1) !important;
    border-color: rgba(16, 185, 129, 0.2) !important;
}

.collapsed > ul {
    display: none;
}

.highlight {
    background: linear-gradient(135deg, var(--accent-color), var(--secondary-color));
    padding: 0 3px;
    border-radius: 3px;
    color: #fff;
    font-weight: 500;
}

footer {
    background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
    color: white;
    padding: 8px 16px;
    text-align: center;
    font-size: 10px;
    border-top: 1px solid rgba(255, 255, 255, 0.2);
    flex-shrink: 0;
}

@media (max-width: 768px) {
    body { font-size: 12px; }
    .container { margin: 4px; }
    header h1 { font-size: 16px; }
    header p { font-size: 11px; }
    .tree ul { padding-left: 14px; }
    .tree-name { font-size: 12px; }
    .tree-desc { font-size: 10px; }
    #searchInput { width: 140px; font-size: 11px; }
    .controls button { font-size: 11px; padding: 5px 10px; }
}

@media (max-width: 480px) {
    body { font-size: 11px; }
    .container { margin: 2px; }
    header h1 { font-size: 14px; }
    header p { font-size: 10px; }
    .tree ul { padding-left: 12px; }
    .tree-node { padding: 1px 3px; }
    .tree-name { font-size: 11px; }
    .tree-desc { font-size: 9px; }
    #searchInput { width: 120px; font-size: 10px; }
    .controls button { font-size: 10px; padding: 4px 8px; }
}
</style>
</head>
<body>
<div class="container">
    <header>
        <div class="header-content">
            <h1>C æ ‡å‡†åº“å‚è€ƒæ‰‹å†Œ</h1>
            <p>C Standard Library Reference Manual (2025-12-18)</p>
        </div>
        <div class="header-search">
            <input type="text" id="searchInput" placeholder="æœç´¢å‡½æ•°æˆ–å¸¸é‡...">
        </div>
    </header>
    <div class="controls">
        <div class="action-buttons">
            <button id="expandAll">å±•å¼€å…¨éƒ¨</button>
            <button id="collapseAll">æŠ˜å å…¨éƒ¨</button>
        </div>
    </div>
    <div class="tree-container">
        <div class="tree" id="treeContainer"></div>
    </div>
    <footer>
        <p>Â© 2025 C æ ‡å‡†åº“å‚è€ƒæ‰‹å†Œ | Generated by å‡‰å®‰</p>
    </footer>
</div>

<!-- æ•°æ®éƒ¨åˆ† -->
<script>
// C æ ‡å‡†åº“æ ‘å½¢æ•°æ®
// è¿”å› NULL å¹¶éâ€œæ²¡ç»“æœâ€ï¼Œå¯èƒ½æŒ‡é’ˆä¼ é€’ä¿¡æ¯ã€‚
const cLibraryData = [
    {
        name: "ä¸€ã€assert.hï¼Œè¯Šæ–­",
        type: "folder",
        children: [
            { name: "1. void assert(int exp)", desc: "éªŒè¯ç¨‹åºå‡è®¾ï¼Œå¤±è´¥æ—¶ç»ˆæ­¢ç¨‹åº", type: "file" }
        ]
    },
    {
        name: "äºŒã€ctype.hï¼Œå­—ç¬¦å¤„ç†å‡½æ•°",
        type: "folder",
        children: [
            { name: "1. int isalnum(int c)", desc: "æ£€æŸ¥å­—ç¬¦æ˜¯å¦ä¸ºå­—æ¯æˆ–æ•°å­—", type: "file" },
            { name: "2. int isalpha(int c)", desc: "æ£€æŸ¥å­—ç¬¦æ˜¯å¦ä¸ºå­—æ¯", type: "file" },
            { name: "3. int iscntrl(int c)", desc: "æ£€æŸ¥å­—ç¬¦æ˜¯å¦ä¸ºæ§åˆ¶å­—ç¬¦", type: "file" },
            { name: "4. int isdigit(int c)", desc: "æ£€æŸ¥å­—ç¬¦æ˜¯å¦ä¸ºåè¿›åˆ¶æ•°å­—", type: "file" },
            { name: "5. int isgraph(int c)", desc: "æ£€æŸ¥å­—ç¬¦æ˜¯å¦æœ‰å›¾å½¢è¡¨ç¤ºæ³•", type: "file" },
            { name: "6. int islower(int c)", desc: "æ£€æŸ¥å­—ç¬¦æ˜¯å¦ä¸ºå°å†™å­—æ¯", type: "file" },
            { name: "7. int isprint(int c)", desc: "æ£€æŸ¥å­—ç¬¦æ˜¯å¦ä¸ºå¯æ‰“å°å­—ç¬¦", type: "file" },
            { name: "8. int ispunct(int c)", desc: "æ£€æŸ¥å­—ç¬¦æ˜¯å¦ä¸ºæ ‡ç‚¹ç¬¦å·", type: "file" },
            { name: "9. int isspace(int c)", desc: "æ£€æŸ¥å­—ç¬¦æ˜¯å¦ä¸ºç©ºç™½å­—ç¬¦", type: "file" },
            { name: "10. int isupper(int c)", desc: "æ£€æŸ¥å­—ç¬¦æ˜¯å¦ä¸ºå¤§å†™å­—æ¯", type: "file" },
            { name: "11. int isxdigit(int c)", desc: "æ£€æŸ¥å­—ç¬¦æ˜¯å¦ä¸ºåå…­è¿›åˆ¶æ•°å­—", type: "file" },
            { name: "12. int tolower(int c)", desc: "å°†å¤§å†™å­—æ¯è½¬æ¢ä¸ºå°å†™å­—æ¯", type: "file" },
            { name: "13. int toupper(int c)", desc: "å°†å°å†™å­—æ¯è½¬æ¢ä¸ºå¤§å†™å­—æ¯", type: "file" }
        ]
    },
    {
        name: "ä¸‰ã€float.hï¼Œæµ®ç‚¹å‹é™åˆ¶",
        type: "folder",
        children: [
            { name: "1. int FLT_RADIX", desc: "æŒ‡æ•°è¡¨ç¤ºçš„åŸºæ•°ï¼ˆæœ€å°å€¼2ï¼‰", type: "file" },
            { name: "2. int FLT_ROUNDS", desc: "åŠ æ³•çš„æµ®ç‚¹èˆå…¥è§„åˆ™", type: "file" },
            { name: "3. int FLT_MANT_DIG", desc: "åŸºæ•°ä¸ºFLT_RADIX çš„å°¾æ•°ä¸­çš„æ•°å­—æ•°", type: "file" },
            { name: "4. int FLT_MAX_EXP", desc: "ä½¿FLT_RADIX^n-1 å¯è¡¨ç¤ºçš„æœ€å¤§n", type: "file" },
            { name: "5. int FLT_MIN_EXP", desc: "ä½¿10^n ä¸ºè§„èŒƒåŒ–æ•°çš„æœ€å°n", type: "file" },
            { name: "6. int DBL_MANT_DIG", desc: "åŸºæ•°ä¸ºFLT_RADIX çš„å°¾æ•°ä¸­çš„æ•°å­—æ•°", type: "file" },
            { name: "7. int DBL_MAX_EXP", desc: "ä½¿FLT_RADIX^n-1 å¯è¡¨ç¤ºçš„æœ€å¤§n", type: "file" },
            { name: "8. int DBL_MIN_EXP", desc: "ä½¿10^n ä¸ºè§„èŒƒåŒ–æ•°çš„æœ€å°n", type: "file" },
            { name: "9. float FLT_DIG", desc: "float ç±»å‹ç²¾åº¦ ï¼ˆæœ€å°å€¼6ï¼‰ ", type: "file" },
            { name: "10. float FLT_EPSILON", desc: "ä½¿1.0 + x != 1.0 æˆç«‹çš„æœ€å°xï¼ˆæœ€å°å€¼1E-5ï¼‰", type: "file" },
            { name: "11. float FLT_MAX", desc: "æœ€å¤§æµ®ç‚¹æ•°ï¼ˆæœ€å°å€¼1E+37ï¼‰", type: "file" },
            { name: "12. float FLT_MIN", desc: "æœ€å°çš„è§„èŒƒåŒ–æµ®ç‚¹æ•°ï¼ˆæœ€å°å€¼1E-37ï¼‰", type: "file" },
            { name: "13. double DBL_DIG", desc: "double ç±»å‹ç²¾åº¦ï¼ˆæœ€å°å€¼10ï¼‰", type: "file" },
            { name: "14. double DBL_EPSILON", desc: "ä½¿1.0 + x != 1.0 æˆç«‹çš„æœ€å°xï¼ˆæœ€å°å€¼1E-9ï¼‰", type: "file" },
            { name: "15. double DBL_MAX", desc: "æœ€å¤§åŒç²¾åº¦æµ®ç‚¹æ•°ï¼ˆæœ€å°å€¼1E+37ï¼‰", type: "file" },
            { name: "16. double DBL_MIN", desc: "æœ€å°çš„è§„èŒƒåŒ–åŒç²¾åº¦æµ®ç‚¹æ•°ï¼ˆæœ€å°å€¼1E-37ï¼‰", type: "file" }
        ]
    },
    {
        name: "å››ã€limits.hï¼Œæ•´å‹é™åˆ¶",
        type: "folder",
        children: [
            { name: "1. int CHAR_BIT", desc: "char ç±»å‹çš„ä½æ•°ï¼ˆæœ€å°å€¼8ï¼‰", type: "file" },
            { name: "2. int CHAR_MAX", desc: "char ç±»å‹çš„æœ€å¤§å€¼", type: "file" },
            { name: "3. int CHAR_MIN", desc: "char ç±»å‹çš„æœ€å°å€¼", type: "file" },
            { name: "4. int INT_MAX", desc: "int ç±»å‹çš„æœ€å¤§å€¼ ï¼ˆæœ€å°å€¼32767ï¼‰", type: "file" },
            { name: "5. int INT_MIN", desc: "int ç±»å‹çš„æœ€å°å€¼ ï¼ˆæœ€å°å€¼-32767ï¼‰", type: "file" },
            { name: "6. long LONG_MAX", desc: "long ç±»å‹çš„æœ€å¤§å€¼ï¼ˆæœ€å°å€¼2147483647ï¼‰", type: "file" },
            { name: "7. long LONG_MIN", desc: "long ç±»å‹çš„æœ€å°å€¼ï¼ˆæœ€å°å€¼-2147483647ï¼‰", type: "file" },
            { name: "8. int SCHAR_MAX", desc: "signed char çš„æœ€å¤§å€¼ï¼ˆæœ€å°å€¼127ï¼‰", type: "file" },
            { name: "9. int SCHAR_MIN", desc: "signed char çš„æœ€å°å€¼ï¼ˆæœ€å°å€¼-127ï¼‰", type: "file" },
            { name: "10. int SHRT_MAX", desc: "short çš„æœ€å¤§å€¼ï¼ˆæœ€å°å€¼32767ï¼‰", type: "file" },
            { name: "11. int SHRT_MIN", desc: "short çš„æœ€å°å€¼ï¼ˆæœ€å°å€¼-32767ï¼‰", type: "file" },
            { name: "12. unsigned int UCHAR_MAX", desc: "unsigned char çš„æœ€å¤§å€¼ï¼ˆæœ€å°å€¼255ï¼‰", type: "file" },
            { name: "13. unsigned int UINT_MAX", desc: "unsigned int çš„æœ€å¤§å€¼ï¼ˆæœ€å°å€¼65535ï¼‰", type: "file" },
            { name: "14. unsigned long ULONG_MAX", desc: "unsigned long çš„æœ€å¤§å€¼ï¼ˆæœ€å°å€¼4294967295ï¼‰", type: "file" },
            { name: "15. unsigned int USHRT_MAX", desc: "unsigned short çš„æœ€å¤§å€¼ï¼ˆæœ€å°å€¼65535ï¼‰", type: "file" }
        ]
    },
    {
        name: "äº”ã€locale.hï¼Œåœ°åŸŸåŒ–è®¾ç½®",
        type: "folder",
        children: [
            { name: "1. char* setlocale(int category, const char* locale)", desc: "è®¾ç½®æˆ–è¯»å–åœ°åŸŸåŒ–ä¿¡æ¯", type: "file" },
            { name: "2. struct lconv *localeconv(void)", desc: "è·å–åœ°åŸŸåŒ–ä¿¡æ¯ï¼ˆå¦‚è´§å¸ç¬¦å·ï¼‰", type: "file" }
        ]
    },
    {
        name: "å…­ã€math.hï¼Œæ•°å­¦å‡½æ•°åº“",
        type: "folder",
        children: [
            { name: "1. double acos(double x)", desc: "è¿”å›ä»¥å¼§åº¦è¡¨ç¤ºçš„x çš„åä½™å¼¦", type: "file" },
            { name: "2. double asin(double x)", desc: "è¿”å›ä»¥å¼§åº¦è¡¨ç¤ºçš„x çš„åæ­£å¼¦", type: "file" },
            { name: "3. double atan(double x)", desc: "è¿”å›ä»¥å¼§åº¦è¡¨ç¤ºçš„x çš„åæ­£åˆ‡", type: "file" },
            { name: "4. double atan2(double y, double x)", desc: "è¿”å›ä»¥å¼§åº¦è¡¨ç¤ºçš„y/x çš„åæ­£åˆ‡ï¼Œy å’Œx çš„ç¬¦å·å†³å®šè±¡é™", type: "file" },
            { name: "5. double cos(double x)", desc: "è¿”å›å¼§åº¦è§’x çš„ä½™å¼¦", type: "file" },
            { name: "6. double cosh(double x)", desc: "è¿”å›x çš„åŒæ›²ä½™å¼¦", type: "file" },
            { name: "7. double sin(double x)", desc: "è¿”å›å¼§åº¦è§’x çš„æ­£å¼¦", type: "file" },
            { name: "8. double sinh(double x)", desc: "è¿”å›x çš„åŒæ›²æ­£å¼¦", type: "file" },
            { name: "9. double tanh(double x)", desc: "è¿”å›x çš„åŒæ›²æ­£åˆ‡", type: "file" },
            { name: "10. double exp(double x)", desc: "è¿”å›e çš„x æ¬¡å¹‚çš„å€¼", type: "file" },
            { name: "11. double frexp(double x, int *exponent)", desc: "åˆ†è§£æµ®ç‚¹æ•°x ä¸ºå°¾æ•°å’ŒæŒ‡æ•°ï¼Œè¿”å›å°¾æ•°ï¼ŒæŒ‡æ•°å­˜å…¥exponent", type: "file" },
            { name: "12. double ldexp(double x, int exponent)", desc: "è¿”å›x ä¹˜ä»¥2 çš„exponent æ¬¡å¹‚", type: "file" },
            { name: "13. double log(double x)", desc: "è¿”å›x çš„è‡ªç„¶å¯¹æ•°ï¼ˆåŸºæ•°ä¸ºeï¼‰", type: "file" },
            { name: "14. double log10(double x)", desc: "è¿”å›x çš„å¸¸ç”¨å¯¹æ•°ï¼ˆåŸºæ•°ä¸º10ï¼‰", type: "file" },
            { name: "15. double modf(double x, double *integer)", desc: "è¿”å›å°æ•°éƒ¨åˆ†ï¼Œå¹¶è®¾ç½®integer ä¸ºæ•´æ•°éƒ¨åˆ†", type: "file" },
            { name: "16. double pow(double x, double y)", desc: "è¿”å›xçš„y æ¬¡å¹‚", type: "file" },
            { name: "17. double sqrt(double x)", desc: "è¿”å›x çš„å¹³æ–¹æ ¹", type: "file" },
            { name: "18. double ceil(double x)", desc: "è¿”å›å¤§äºæˆ–ç­‰äºxçš„æœ€å°æ•´æ•°å€¼", type: "file" },
            { name: "19. double fabs(double x)", desc: "è¿”å›x çš„ç»å¯¹å€¼", type: "file" },
            { name: "20. double floor(double x)", desc: "è¿”å›å°äºæˆ–ç­‰äºxçš„æœ€å¤§æ•´æ•°å€¼", type: "file" },
            { name: "21. double fmod(double x, double y)", desc: "è¿”å›x é™¤ä»¥y çš„ä½™æ•°", type: "file" }
        ]
    },
    {
        name: "ä¸ƒã€setjmp.hï¼Œéå±€éƒ¨è·³è½¬",
        type: "folder",
        children: [
            { name: "1. void longjmp(jmp_buf environment, int value)", desc: "æ¢å¤ç”±setjmp ä¿å­˜çš„ç¯å¢ƒ", type: "file" },
            { name: "2. int setjmp(jmp_buf env)", desc: "ä¿å­˜å½“å‰æ‰§è¡Œç¯å¢ƒ", type: "file" }
        ]
    },
    {
        name: "å…«ã€signal.hï¼Œä¿¡å·å¤„ç†",
        type: "folder",
        children: [
            { name: "1. void (*signal(int sig, void (*func)(int)))(int)", desc: "è®¾ç½®ä¿¡å·å¤„ç†å‡½æ•°", type: "file" },
            { name: "2. int raise(int sig)", desc: "ç”ŸæˆæŒ‡å®šä¿¡å·", type: "file" }
        ]
    },
    {
        name: "ä¹ã€stdarg.hï¼Œå˜é•¿å‚æ•°",
        type: "folder",
        children: [
            { name: "1. void va_start(va_list ap, lastarg)", desc: "åˆå§‹åŒ–å¯å˜å‚æ•°åˆ—è¡¨", type: "file" },
            { name: "2. void va_end(va_list ap)", desc: "æ¸…ç†å¯å˜å‚æ•°åˆ—è¡¨", type: "file" },
            { name: "3. type va_arg(va_list ap, type)", desc: "è·å–ä¸‹ä¸€ä¸ªå¯å˜å‚æ•°", type: "file" }
        ]
    },
    {
        name: "åã€stdio.hï¼Œè¾“å…¥è¾“å‡ºå‡½æ•°",
        type: "folder",
        children: [
            { name: "1. void clearerr(FILE* stream)", desc: "æ¸…é™¤æ–‡ä»¶æµçš„é”™è¯¯æ ‡è¯†ç¬¦", type: "file" },
            { name: "2. void perror(const char* str)", desc: "è¾“å‡ºé”™è¯¯æè¿°åˆ°æ ‡å‡†é”™è¯¯", type: "file" },
            { name: "3. void rewind(FILE* stream)", desc: "é‡ç½®æ–‡ä»¶ä½ç½®åˆ°å¼€å¤´", type: "file" },
            { name: "4. void setbuf(FILE* stream, char* buffer)", desc: "è®¾ç½®æ–‡ä»¶ç¼“å†²åŒº", type: "file" },
            { name: "5. int fclose(FILE* stream)", desc: "å…³é—­æ–‡ä»¶æµ", type: "file" },
            { name: "6. int feof(FILE* stream)", desc: "æµ‹è¯•æ–‡ä»¶ç»“æŸæ ‡è¯†ç¬¦", type: "file" },
            { name: "7. int ferror(FILE* stream)", desc: "æµ‹è¯•æ–‡ä»¶æµçš„é”™è¯¯æ ‡è¯†ç¬¦", type: "file" },
            { name: "8. int fflush(FILE* stream)", desc: "åˆ·æ–°è¾“å‡ºç¼“å†²åŒº", type: "file" },
            { name: "9. int fgetpos(FILE* stream, fpos_t *pos)", desc: "è·å–æ–‡ä»¶å½“å‰ä½ç½®", type: "file" },
            { name: "10. int fsetpos(FILE* stream, const fpos_t *pos)", desc: "è®¾ç½®æ–‡ä»¶ä½ç½®", type: "file" },
            { name: "11. int fseek(FILE* stream, long int offset, int whence)", desc: "è®¾ç½®æ–‡ä»¶ä½ç½®", type: "file" },
            { name: "12. int remove(const char* filename)", desc: "åˆ é™¤æ–‡ä»¶", type: "file" },
            { name: "13. int rename(const char* old_filename, const char* new_filename)", desc: "é‡å‘½åæ–‡ä»¶", type: "file" },
            { name: "14. int setvbuf(FILE* stream, char* buffer, int mode, size_t size)", desc: "è®¾ç½®æ–‡ä»¶ç¼“å†²æ¨¡å¼", type: "file" },
            { name: "15. int ungetc(int char, FILE* stream)", desc: "å°†å­—ç¬¦æ¨å›æ–‡ä»¶æµ", type: "file" },
            { name: "16. long int ftell(FILE* stream)", desc: "è¿”å›å½“å‰æ–‡ä»¶ä½ç½®", type: "file" },
            { name: "17. FILE* fopen(const char* filename, const char* mode)", desc: "æ‰“å¼€æ–‡ä»¶", type: "file" },
            { name: "18. FILE* freopen(const char* filename, const char* mode, FILE* stream)", desc: "é‡æ–°æ‰“å¼€æ–‡ä»¶æµ", type: "file" },
            { name: "19. FILE* tmpfile(void)", desc: "åˆ›å»ºä¸´æ—¶æ–‡ä»¶", type: "file" },
            { name: "20. char* fgets(char* str, int n, FILE* stream)", desc: "ä»æ–‡ä»¶æµè¯»å–ä¸€è¡Œ", type: "file" },
            { name: "21. char* tmpnam(char* str)", desc: "ç”Ÿæˆå”¯ä¸€ä¸´æ—¶æ–‡ä»¶å", type: "file" },
            { name: "22. size_t fread(void* ptr, size_t size, size_t nmemb, FILE* stream)", desc: "ä»æ–‡ä»¶è¯»å–æ•°æ®", type: "file" },
            { name: "23. size_t fwrite(const void* ptr, size_t size, size_t nmemb, FILE* stream)", desc: "å‘æ–‡ä»¶å†™å…¥æ•°æ®", type: "file" },
            { name: "24. int fprintf(FILE* stream, const char* format, ...)", desc: "æ ¼å¼åŒ–è¾“å‡ºåˆ°æ–‡ä»¶æµ", type: "file" },
            { name: "25. int printf(const char* format, ...)", desc: "æ ¼å¼åŒ–è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º", type: "file" },
            { name: "26. int sprintf(char* str, const char* format, ...)", desc: "æ ¼å¼åŒ–è¾“å‡ºåˆ°å­—ç¬¦ä¸²", type: "file" },
            { name: "27. int vfprintf(FILE* stream, const char* format, va_list arg)", desc: "ä½¿ç”¨å‚æ•°åˆ—è¡¨æ ¼å¼åŒ–è¾“å‡ºåˆ°æ–‡ä»¶æµ", type: "file" },
            { name: "28. int vprintf(const char* format, va_list arg)", desc: "ä½¿ç”¨å‚æ•°åˆ—è¡¨æ ¼å¼åŒ–è¾“å‡ºåˆ°æ ‡å‡†è¾“å‡º", type: "file" },
            { name: "29. int vsprintf(char* str, const char* format, va_list arg)", desc: "ä½¿ç”¨å‚æ•°åˆ—è¡¨æ ¼å¼åŒ–è¾“å‡ºåˆ°å­—ç¬¦ä¸²", type: "file" },
            { name: "30. int snprintf(char* buf, size_t num, const char* format, ...)", desc: "å®‰å…¨æ ¼å¼åŒ–è¾“å‡ºåˆ°å­—ç¬¦ä¸²", type: "file" },
            { name: "31. int vsnprintf(char* buf, size_t num, const char* format, va_list arg)", desc: "å®‰å…¨å¯å˜å‚æ•°æ ¼å¼åŒ–è¾“å‡º", type: "file" },
            { name: "32. int fscanf(FILE* stream, const char* format, ...)", desc: "ä»æ–‡ä»¶æµè¯»å–æ ¼å¼åŒ–è¾“å…¥", type: "file" },
            { name: "33. int scanf(const char* format, ...)", desc: "ä»æ ‡å‡†è¾“å…¥è¯»å–æ ¼å¼åŒ–è¾“å…¥", type: "file" },
            { name: "34. int sscanf(const char* str, const char* format, ...)", desc: "ä»å­—ç¬¦ä¸²è¯»å–æ ¼å¼åŒ–è¾“å…¥", type: "file" },
            { name: "35. int fgetc(FILE* stream)", desc: "ä»æ–‡ä»¶æµè¯»å–å•ä¸ªå­—ç¬¦", type: "file" },
            { name: "36. int getc(FILE* stream)", desc: "ä»æ–‡ä»¶æµè¯»å–å•ä¸ªå­—ç¬¦", type: "file" },
            { name: "37. int getchar(void)", desc: "ä»æ ‡å‡†è¾“å…¥è¯»å–å•ä¸ªå­—ç¬¦", type: "file" },
            { name: "38. int fputc(int char, FILE* stream)", desc: "å†™å…¥å­—ç¬¦åˆ°æ–‡ä»¶æµ", type: "file" },
            { name: "39. int putc(int char, FILE* stream)", desc: "å†™å…¥å­—ç¬¦åˆ°æ–‡ä»¶æµ", type: "file" },
            { name: "40. int putchar(int char)", desc: "å†™å…¥å­—ç¬¦åˆ°æ ‡å‡†è¾“å‡º", type: "file" },
            { name: "41. int fputs(const char* str, FILE* stream)", desc: "å†™å…¥å­—ç¬¦ä¸²åˆ°æ–‡ä»¶æµ", type: "file" },
            { name: "42. int puts(const char* str)", desc: "å†™å…¥å­—ç¬¦ä¸²åˆ°æ ‡å‡†è¾“å‡º", type: "file" },
            { name: "43. int gets(char* str)", desc: "ä»æ ‡å‡†è¾“å…¥è¯»å–ä¸€è¡Œï¼ˆå·²å¼ƒç”¨ï¼‰", type: "file" }
        ]
    },
    {
        name: "åä¸€ã€stdlib.hï¼Œæ ‡å‡†åº“å‡½æ•°",
        type: "folder",
        children: [
            { name: "1. void abort(void)", desc: "ä½¿ç¨‹åºå¼‚å¸¸ç»ˆæ­¢", type: "file" },
            { name: "2. void exit(int status)", desc: "ä½¿ç¨‹åºæ­£å¸¸ç»ˆæ­¢", type: "file" },
            { name: "3. void free(void* ptr)", desc: "é‡Šæ”¾ä¹‹å‰åˆ†é…çš„å†…å­˜ç©ºé—´", type: "file" },
            { name: "4. void qsort(void* base, size_t nitems, size_t size, int (*compar)(const void* , const void*))", desc: "æ•°ç»„æ’åº", type: "file" },
            { name: "5. void srand(unsigned int seed)", desc: "åˆå§‹åŒ–éšæœºæ•°å‘ç”Ÿå™¨", type: "file" },
            { name: "6. int atoi(const char* str)", desc: "å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºint ç±»å‹æ•´æ•°", type: "file" },
            { name: "7. int atexit(void (*func)(void))", desc: "ç¨‹åºæ­£å¸¸ç»ˆæ­¢æ—¶è°ƒç”¨æŒ‡å®šå‡½æ•°", type: "file" },
            { name: "8. int mblen(const char* str, size_t n)", desc: "è¿”å›å¤šå­—èŠ‚å­—ç¬¦çš„é•¿åº¦", type: "file" },
            { name: "9. int mbtowc(whcar_t *pwc, const char* str, size_t n)", desc: "æ£€æŸ¥å¤šå­—èŠ‚å­—ç¬¦", type: "file" },
            { name: "10. int rand(void)", desc: "è¿”å›0 åˆ°RAND_MAX ä¹‹é—´çš„ä¼ªéšæœºæ•°", type: "file" },
            { name: "11. int system(const char* string)", desc: "æ‰§è¡Œç³»ç»Ÿå‘½ä»¤", type: "file" },
            { name: "12. int wctomb(char* str, wchar_t wchar)", desc: "æ£€æŸ¥å®½å­—ç¬¦çš„å¤šå­—èŠ‚ç¼–ç ", type: "file" },
            { name: "13. long atol(const char* str)", desc: "å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºlong int ç±»å‹é•¿æ•´æ•°", type: "file" },
            { name: "14. int abs(int x)", desc: "è¿”å›x çš„ç»å¯¹å€¼", type: "file" },
            { name: "15. long labs(long int x)", desc: "è¿”å›x çš„ç»å¯¹å€¼", type: "file" },
            { name: "16. double atof(const char* str)", desc: "å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºdouble ç±»å‹æµ®ç‚¹æ•°", type: "file" },
            { name: "17. div_t div(int numer, int denom)", desc: "åˆ†å­é™¤ä»¥åˆ†æ¯", type: "file" },
            { name: "18. ldiv_t ldiv(long int numer, long int denom)", desc: "åˆ†å­é™¤ä»¥åˆ†æ¯", type: "file" },
            { name: "19. char* getenv(const char* name)", desc: "æœç´¢ç¯å¢ƒå­—ç¬¦ä¸²å¹¶è¿”å›ç›¸å…³å€¼", type: "file" },
            { name: "20. void* calloc(size_t nitems, size_t size)", desc: "åˆ†é…å†…å­˜ç©ºé—´å¹¶è¿”å›æŒ‡é’ˆ", type: "file" },
            { name: "21. void* malloc(size_t size)", desc: "åˆ†é…å†…å­˜ç©ºé—´å¹¶è¿”å›æŒ‡é’ˆ", type: "file" },
            { name: "22. void* realloc(void* ptr, size_t size)", desc: "é‡æ–°è°ƒæ•´å†…å­˜å—å¤§å°", type: "file" },
            { name: "23. void* bsearch(const void* key, const void* base, size_t nitems, size_t size, int (*compar)(const void* , const void* ))", desc: "æ‰§è¡ŒäºŒåˆ†æŸ¥æ‰¾", type: "file" },
            { name: "24. double strtod(const char* str, char* *endptr)", desc: "å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºdouble ç±»å‹æµ®ç‚¹æ•°", type: "file" },
            { name: "25. long strtol(const char* str, char* *endptr, int base)", desc: "å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºlong int ç±»å‹é•¿æ•´æ•°", type: "file" },
            { name: "26. unsigned long strtoul(const char* str, char* *endptr, int base)", desc: "å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºunsigned long int ç±»å‹æ— ç¬¦å·é•¿æ•´æ•°", type: "file" },
            { name: "27. size_t mbstowcs(schar_t *pwcs, const char* str, size_t n)", desc: "å°†å¤šå­—èŠ‚å­—ç¬¦ä¸²è½¬æ¢ä¸ºå®½å­—ç¬¦æ•°ç»„", type: "file" },
            { name: "28. size_t wcstombs(char* str, const wchar_t *pwcs, size_t n)", desc: "å°†å®½å­—ç¬¦æ•°ç»„è½¬æ¢ä¸ºå¤šå­—èŠ‚å­—ç¬¦ä¸²", type: "file" }
        ]
    },
    {
        name: "åäºŒã€string.hï¼Œå­—ç¬¦ä¸²å¤„ç†å‡½æ•° â¤",
        type: "folder",
        children: [
            { name: "1. void* memchr(const void* str, int c, size_t n)", desc: "åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢å­—ç¬¦é¦–æ¬¡å‡ºç°çš„ä½ç½®", type: "file" },
            { name: "2. void* memcpy(void* dest, const void* src, size_t n)", desc: "å¤åˆ¶n ä¸ªå­—ç¬¦ä»src åˆ°dest", type: "file" },
            { name: "3. void* memmove(void* dest, const void* src, size_t n)", desc: "å¤åˆ¶n ä¸ªå­—ç¬¦ï¼ˆå¤„ç†é‡å ï¼‰", type: "file" },
            { name: "4. void* memset(void* str, int c, size_t n)", desc: "å°†å­—ç¬¦c å¤åˆ¶åˆ°å­—ç¬¦ä¸²å‰n ä¸ªå­—ç¬¦", type: "file" },
            { name: "5. char* strcat(char* dest, const char* src)", desc: "è¿½åŠ å­—ç¬¦ä¸²src åˆ°dest æœ«å°¾", type: "file" },
            { name: "6. char* strncat(char* dest, const char* src, size_t n)", desc: "è¿½åŠ src çš„å‰n ä¸ªå­—ç¬¦åˆ°dest", type: "file" },
            { name: "7. char* strchr(const char* str, int c)", desc: "åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢å­—ç¬¦é¦–æ¬¡å‡ºç°çš„ä½ç½®", type: "file" },
            { name: "8. char* strcpy(char* dest, const char* src)", desc: "å¤åˆ¶å­—ç¬¦ä¸²src åˆ°dest", type: "file" },
            { name: "9. char* strncpy(char* dest, const char* src, size_t n)", desc: "å¤åˆ¶src çš„å‰n ä¸ªå­—ç¬¦åˆ°dest", type: "file" },
            { name: "10. char* strerror(int errnum)", desc: "è¿”å›é”™è¯¯ç å¯¹åº”çš„é”™è¯¯æ¶ˆæ¯å­—ç¬¦ä¸²", type: "file" },
            { name: "11. char* strpbrk(const char* str1, const char* str2)", desc: "åœ¨str1 ä¸­æŸ¥æ‰¾str2 ä¸­ä»»æ„å­—ç¬¦é¦–æ¬¡å‡ºç°çš„ä½ç½®", type: "file" },
            { name: "12. char* strrchr(const char* str, int c)", desc: "åœ¨å­—ç¬¦ä¸²ä¸­æœç´¢å­—ç¬¦æœ€åä¸€æ¬¡å‡ºç°çš„ä½ç½®", type: "file" },
            { name: "13. char* strstr(const char* haystack, const char* needle)", desc: "åœ¨å­—ç¬¦ä¸²ä¸­æŸ¥æ‰¾å­ä¸²é¦–æ¬¡å‡ºç°çš„ä½ç½®", type: "file" },
            { name: "14. char* strtok(char* str, const char* delim)", desc: "åˆ†è§£å­—ç¬¦ä¸²ä¸ºæ ‡è®°åºåˆ—", type: "file" },
            { name: "15. int memcmp(const void* str1, const void* str2, size_t n)", desc: "æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å‰n ä¸ªå­—èŠ‚", type: "file" },
            { name: "16. int strcmp(const char* str1, const char* str2)", desc: "æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²", type: "file" },
            { name: "17. int strncmp(const char* str1, const char* str2, size_t n)", desc: "æ¯”è¾ƒä¸¤ä¸ªå­—ç¬¦ä¸²çš„å‰n ä¸ªå­—ç¬¦", type: "file" },
            { name: "18. int strcoll(const char* str1, const char* str2)", desc: "æ ¹æ®åœ°åŸŸè®¾ç½®æ¯”è¾ƒå­—ç¬¦ä¸²", type: "file" },
            { name: "19. size_t strcspn(const char* str1, const char* str2)", desc: "è¿”å›str1 ä¸­ä¸å«str2 å­—ç¬¦çš„èµ·å§‹æ®µé•¿åº¦", type: "file" },
            { name: "20. size_t strlen(const char* str)", desc: "è¿”å›å­—ç¬¦ä¸²é•¿åº¦", type: "file" },
            { name: "21. size_t strspn(const char* str1, const char* str2)", desc: "è¿”å›str1 ä¸­åªåŒ…å«str2 å­—ç¬¦çš„èµ·å§‹æ®µé•¿åº¦", type: "file" },
            { name: "22. size_t strxfrm(char* dest, const char* src, size_t n)", desc: "è½¬æ¢å­—ç¬¦ä¸²ä¸ºå½“å‰åœ°åŸŸçš„å¯æ¯”è¾ƒå½¢å¼", type: "file" }
        ]
    },
    {
        name: "åä¸‰ã€time.hï¼Œæ—¶é—´æ—¥æœŸå‡½æ•°",
        type: "folder",
        children: [
            { name: "1. char* asctime(const struct tm *timeptr)", desc: "å°†æ—¶é—´ç»“æ„è½¬æ¢ä¸ºå­—ç¬¦ä¸²", type: "file" },
            { name: "2. char* ctime(const time_t *timer)", desc: "å°†æ—¶é—´è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´å­—ç¬¦ä¸²", type: "file" },
            { name: "3. clock_t clock(void)", desc: "è¿”å›ç¨‹åºæ‰§è¡Œæ—¶é—´", type: "file" },
            { name: "4. double difftime(time_t time1, time_t time2)", desc: "è®¡ç®—ä¸¤ä¸ªæ—¶é—´çš„å·®å€¼ï¼ˆç§’ï¼‰", type: "file" },
            { name: "5. struct tm *gmtime(const time_t *timer)", desc: "å°†æ—¶é—´è½¬æ¢ä¸ºåè°ƒä¸–ç•Œæ—¶ï¼ˆUTCï¼‰", type: "file" },
            { name: "6. struct tm *localtime(const time_t *timer)", desc: "å°†æ—¶é—´è½¬æ¢ä¸ºæœ¬åœ°æ—¶é—´", type: "file" },
            { name: "7. time_t mktime(struct tm *timeptr)", desc: "å°†æ—¶é—´ç»“æ„è½¬æ¢ä¸ºtime_t å€¼", type: "file" },
            { name: "8. time_t time(time_t *timer)", desc: "è·å–å½“å‰æ—¥å†æ—¶é—´", type: "file" },
            { name: "9. size_t strftime(char* str, size_t maxsize, const char* format, const struct tm *timeptr)", desc: "æ ¼å¼åŒ–æ—¶é—´å­—ç¬¦ä¸²", type: "file" }
        ]
    }
];
</script>


<!-- å›¾æ ‡éƒ¨åˆ† -->
<script>
// å›¾æ ‡é…ç½®
const icons = {
    folder: 'ğŸ“„',
    file: 'ğŸ’¦',
    toggle: {
        expanded: 'â–¼',
        collapsed: 'â–¶'
    }
};
</script>

<!-- é€»è¾‘éƒ¨åˆ† -->
<script>
// åˆ›å»ºæ ‘èŠ‚ç‚¹çš„å‡½æ•°
function createTreeNode(data) {
    const li = document.createElement('li');
    
    // åˆ›å»ºèŠ‚ç‚¹å®¹å™¨
    const nodeDiv = document.createElement('div');
    nodeDiv.className = 'tree-node';
    
    // æ·»åŠ æŠ˜å å›¾æ ‡ï¼ˆä»…æ–‡ä»¶å¤¹ï¼‰
    if (data.type === 'folder') {
        const toggleIcon = document.createElement('span');
        toggleIcon.className = 'toggle';
        toggleIcon.textContent = icons.toggle.expanded;
        nodeDiv.appendChild(toggleIcon);
    }
    
    // æ·»åŠ æ–‡ä»¶å¤¹/æ–‡ä»¶å›¾æ ‡
    const icon = document.createElement('span');
    icon.className = 'icon';
    icon.textContent = data.type === 'folder' ? icons.folder : icons.file;
    icon.classList.add(data.type);
    nodeDiv.appendChild(icon);
    
    // æ·»åŠ å†…å®¹åŒºåŸŸ
    const contentDiv = document.createElement('div');
    contentDiv.className = 'tree-content';
    
    const nameSpan = document.createElement('span');
    nameSpan.className = 'tree-name';
    nameSpan.textContent = data.name;
    contentDiv.appendChild(nameSpan);
    
    if (data.desc) {
        const descSpan = document.createElement('span');
        descSpan.className = 'tree-desc';
        descSpan.textContent = data.desc;
        contentDiv.appendChild(descSpan);
    }
    
    nodeDiv.appendChild(contentDiv);
    li.appendChild(nodeDiv);
    
    // é€’å½’åˆ›å»ºå­èŠ‚ç‚¹
    if (data.children && data.children.length > 0) {
        const ul = document.createElement('ul');
        data.children.forEach(child => {
            ul.appendChild(createTreeNode(child));
        });
        li.appendChild(ul);
    }
    
    return li;
}

// åˆå§‹åŒ–æ ‘å½¢ç»“æ„
function initTree() {
    const treeContainer = document.getElementById('treeContainer');
    treeContainer.innerHTML = '';
    
    const ul = document.createElement('ul');
    cLibraryData.forEach(item => {
        ul.appendChild(createTreeNode(item));
    });
    treeContainer.appendChild(ul);
    
    // é»˜è®¤å±•å¼€ç¬¬ä¸€çº§æ–‡ä»¶å¤¹
    const rootUl = treeContainer.querySelector('ul');
    const firstLevelLis = rootUl.querySelectorAll(':scope > li');
    firstLevelLis.forEach(li => {
        // ç¬¬ä¸€çº§æ–‡ä»¶å¤¹é»˜è®¤å±•å¼€ï¼Œä¸æ·»åŠ collapsed ç±»
            li.classList.add('collapsed'); // ç¬¬ä¸€çº§æ–‡ä»¶å¤¹ä¹Ÿé»˜è®¤æŠ˜å 
    });
    
    // å…¶ä»–æ–‡ä»¶å¤¹é»˜è®¤æŠ˜å 
    document.querySelectorAll('.tree li:has(> ul)').forEach(li => {
        if (li.parentElement.parentElement.id !== 'treeContainer') {
            li.classList.add('collapsed');
            // æ›´æ–°æŠ˜å å›¾æ ‡
            const toggle = li.querySelector('.toggle');
            if (toggle) {
                toggle.textContent = icons.toggle.collapsed;
            }
        }
    });
}

// å±•å¼€å…¨éƒ¨
function expandAll() {
    document.querySelectorAll('.tree li.collapsed').forEach(li => {
        li.classList.remove('collapsed');
        // æ›´æ–°å±•å¼€å›¾æ ‡
        const toggle = li.querySelector('.toggle');
        if (toggle) {
            toggle.textContent = icons.toggle.expanded;
        }
    });
}

// æŠ˜å å…¨éƒ¨
function collapseAll() {
    document.querySelectorAll('.tree li:has(.icon.folder)').forEach(li => {
        if (!li.parentElement.classList.contains('tree')) {
            li.classList.add('collapsed');
            // æ›´æ–°æŠ˜å å›¾æ ‡
            const toggle = li.querySelector('.toggle');
            if (toggle) {
                toggle.textContent = icons.toggle.collapsed;
            }
        }
    });
}

// æœç´¢åŠŸèƒ½
function searchTree(term) {
    // æ¸…é™¤ä¹‹å‰çš„é«˜äº®
    document.querySelectorAll('.highlight').forEach(el => {
        el.classList.remove('highlight');
    });
    
    if (term === '') return;
    
    // æœç´¢å¹¶é«˜äº®åŒ¹é…é¡¹
    document.querySelectorAll('.tree-node').forEach(node => {
        const text = node.textContent.toLowerCase();
        if (text.includes(term)) {
            node.querySelector('.tree-name').classList.add('highlight');
            
            // å±•å¼€çˆ¶èŠ‚ç‚¹
            let parent = node.closest('li');
            while (parent && !parent.classList.contains('tree')) {
                parent.classList.remove('collapsed');
                // æ›´æ–°å±•å¼€å›¾æ ‡
                const toggle = parent.querySelector('.toggle');
                if (toggle) {
                    toggle.textContent = icons.toggle.expanded;
                }
                parent = parent.parentElement.closest('li');
            }
        }
    });
}

// åˆå§‹åŒ–
document.addEventListener('DOMContentLoaded', function() {
    initTree();
    
    // å±•å¼€å…¨éƒ¨æŒ‰é’®
    document.getElementById('expandAll').addEventListener('click', expandAll);
    
    // æŠ˜å å…¨éƒ¨æŒ‰é’®
    document.getElementById('collapseAll').addEventListener('click', collapseAll);
    
    // æœç´¢åŠŸèƒ½
    document.getElementById('searchInput').addEventListener('input', function(e) {
        searchTree(e.target.value.toLowerCase());
    });
    
    // æŠ˜å /å±•å¼€åŠŸèƒ½
    document.getElementById('treeContainer').addEventListener('click', function(e) {
        const treeNode = e.target.closest('.tree-node');
        if (!treeNode) return;
        
        const folder = treeNode.querySelector('.icon.folder');
        if (!folder) return;
        
        const li = treeNode.parentElement;
        li.classList.toggle('collapsed');
        
        // æ›´æ–°å›¾æ ‡
        const toggle = treeNode.querySelector('.toggle');
        if (toggle) {
            toggle.textContent = li.classList.contains('collapsed') 
                ? icons.toggle.collapsed 
                : icons.toggle.expanded;
        }
    });
});
</script>
</body>
</html>
